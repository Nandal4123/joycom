<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>조이상담코칭센터 | 용인 동백역 심리상담 전문기관</title>
    <meta name="description" content="용인 동백역 도보1분, 조이상담코칭센터. 개인·부부·아동상담, 심리치료 전문기관. 24시간 상담신청 접수, 전문 상담사 1:1 맞춤 상담 제공.">
    <meta name="keywords" content="심리상담, 용인상담센터, 동백역상담, 부부상담, 아동상담, 청소년상담, 개인상담, 심리치료, 놀이치료, 미술치료">
    <meta name="naver-site-verification" content="2a15f637bdf245a08cd98a6dc3d1c20fa4b6cec9" />
    
    <!-- Open Graph / Facebook 공유 최적화 -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="조이상담코칭센터 | 용인 동백역 심리상담 전문기관">
    <meta property="og:description" content="용인 동백역 도보1분, 조이상담코칭센터. 개인·부부·아동상담, 심리치료 전문기관. 24시간 상담신청 접수, 전문 상담사 1:1 맞춤 상담 제공.">
    <meta property="og:image" content="https://joycom.or.kr/images/counseling.jpg">
    <meta property="og:url" content="https://joycom.or.kr/">
    <meta property="og:site_name" content="조이상담코칭센터">
    <meta property="og:locale" content="ko_KR">
    
    <!-- Twitter Card 공유 최적화 -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="조이상담코칭센터 | 용인 동백역 심리상담 전문기관">
    <meta name="twitter:description" content="용인 동백역 도보1분, 조이상담코칭센터. 개인·부부·아동상담, 심리치료 전문기관. 24시간 상담신청 접수, 전문 상담사 1:1 맞춤 상담 제공.">
    <meta name="twitter:image" content="https://joycom.or.kr/images/counseling.jpg">
    <meta name="twitter:site" content="@조이상담코칭센터">
    
    <!-- 사이트맵 참조 -->
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- EmailJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        // EmailJS 초기화 (상담신청 자동 확인 메일용)
        (function() {
            // EmailJS 초기화 - 실제 사용 시 PUBLIC_KEY를 발급받아 교체 필요
            const publicKey = "YOUR_EMAILJS_PUBLIC_KEY"; // TODO: 실제 공개 키로 교체
            
            if (publicKey === "YOUR_EMAILJS_PUBLIC_KEY") {
                console.warn('⚠️ EmailJS 공개 키가 설정되지 않았습니다. 이메일 알림이 작동하지 않습니다.');
                window.emailjsConfigured = false;
            } else {
                try {
                    emailjs.init(publicKey);
                    console.log('📧 EmailJS 초기화 완료');
                    window.emailjsConfigured = true;
                } catch (error) {
                    console.error('❌ EmailJS 초기화 실패:', error);
                    window.emailjsConfigured = false;
                }
            }
        })();
    </script>
    
    <!-- 알림 서비스 통합 -->
    <script>
        // notification-service.js 내용을 여기에 직접 포함
        // (ES6 모듈 문제 해결을 위해)
    </script>
    
    <!-- Firebase SDK -->
    <script type="module">
        // Firebase 설정
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js';
        import { getFirestore, collection, addDoc, serverTimestamp, query, orderBy, limit, getDocs, deleteDoc, doc } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js';
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, updateProfile } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js';
        import { getAnalytics } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js';

        // Firebase 설정
        const firebaseConfig = {
            apiKey: "AIzaSyDldYr1xOyH_H44UR7tXS_hUomXbbkGVEg",
            authDomain: "joy-counseling-center.firebaseapp.com",
            projectId: "joy-counseling-center",
            storageBucket: "joy-counseling-center.firebasestorage.app",
            messagingSenderId: "976976902307",
            appId: "1:976976902307:web:93114b8dd4c7691daa6716",
            measurementId: "G-GR2197VTJ4"
        };

        // Firebase 초기화 with error handling
        let app, db, auth;
        try {
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);
            
            console.log('✅ Firebase 초기화 성공');
            console.log('🔥 Firestore 연결 확인:', db ? '✅ 연결됨' : '❌ 연결 실패');
            console.log('🔐 Auth 연결 확인:', auth ? '✅ 연결됨' : '❌ 연결 실패');
            
            // 전역으로 사용할 수 있도록 window 객체에 저장
            window.db = db;
            window.auth = auth;
            window.addDoc = addDoc;
            window.collection = collection;
            window.serverTimestamp = serverTimestamp;
            
            // Auth 관련 함수들
            window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
            window.signInWithEmailAndPassword = signInWithEmailAndPassword;
            window.signOut = signOut;
            window.onAuthStateChanged = onAuthStateChanged;
            window.updateProfile = updateProfile;
            
            // Firestore 쿼리 함수들
            window.query = query;
            window.orderBy = orderBy;
            window.limit = limit;
            window.getDocs = getDocs;
            window.deleteDoc = deleteDoc;
            window.doc = doc;
            window.serverTimestamp = serverTimestamp;
            
            // Firebase 초기화 완료 플래그
            window.firebaseInitialized = true;
            
            // Firebase 초기화 성공 후 시스템 초기화
            initializeFirebaseServices();
            
        } catch (error) {
            console.error('❌ Firebase 초기화 실패:', error);
            window.firebaseInitialized = false;
            window.firebaseError = error.message;
            
            // 사용자에게 알림
            setTimeout(() => {
                if (!window.firebaseInitialized) {
                    alert('데이터베이스 연결에 문제가 있습니다. 페이지를 새로고침 해주세요.');
                }
            }, 5000);
        }

        // Firebase 서비스 초기화 함수
        function initializeFirebaseServices() {
            console.log('🚀 Firebase 서비스 초기화 시작...');
            
            // ============================================
            // 인증 시스템 초기화 및 이벤트 리스너
            // ============================================
            
            console.log('🔐 인증 시스템 초기화 중...');
        
            // 사용자 인증 상태 감지
            onAuthStateChanged(auth, (user) => {
                console.log('🔐 인증 상태 변경:', user ? `로그인됨 (${user.email})` : '로그아웃됨');
                
                const authButtons = document.getElementById('auth-buttons');
                const userMenu = document.getElementById('user-menu');
                const userName = document.getElementById('user-name');
                const writeReviewBtn = document.getElementById('writeReviewBtn');
                const loginPrompt = document.getElementById('loginPrompt');
                const writeReviewSection = document.getElementById('writeReviewSection');

                if (user) {
                    // 로그인 상태
                    console.log('✅ 사용자 로그인됨:', user.email);
                    if (authButtons) authButtons.style.display = 'none';
                    if (userMenu) userMenu.style.display = 'flex';
                    if (userName) userName.textContent = user.displayName || user.email.split('@')[0] + '님';
                    
                    // 후기 관련 UI 업데이트
                    if (writeReviewBtn) writeReviewBtn.style.display = 'block';
                    if (loginPrompt) loginPrompt.style.display = 'none';
                } else {
                    // 로그아웃 상태
                    console.log('❌ 사용자 로그아웃됨');
                    if (authButtons) authButtons.style.display = 'flex';
                    if (userMenu) userMenu.style.display = 'none';
                    
                    // 후기 관련 UI 업데이트
                    if (writeReviewBtn) writeReviewBtn.style.display = 'none';
                    if (loginPrompt) loginPrompt.style.display = 'block';
                    if (writeReviewSection) writeReviewSection.style.display = 'none';
                }
            });

            // DOM 로드 완료 후 이벤트 리스너 설정
            document.addEventListener('DOMContentLoaded', function() {
                initializeAuthSystem();
                initializeReviewSystem();
            });
        }

        // 인증 시스템 초기화
        function initializeAuthSystem() {
            console.log('🔐 인증 이벤트 리스너 설정 중...');
            
            // 모달 관련 요소들
            const authModal = document.getElementById('authModal');
            const modalTitle = document.getElementById('modalTitle');
            const loginForm = document.getElementById('loginForm');
            const signupForm = document.getElementById('signupForm');
            const closeBtn = document.querySelector('.close');

            // 버튼 요소들
            const loginBtn = document.getElementById('loginBtn');
            const signupBtn = document.getElementById('signupBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            const showSignupLink = document.getElementById('showSignup');
            const showLoginLink = document.getElementById('showLogin');

            // 폼 요소들
            const loginFormElement = document.getElementById('loginFormElement');
            const signupFormElement = document.getElementById('signupFormElement');

            // 로그인 버튼 클릭
            loginBtn?.addEventListener('click', () => {
                showLoginModal();
            });

            // 회원가입 버튼 클릭
            signupBtn?.addEventListener('click', () => {
                showSignupModal();
            });

            // 로그아웃 버튼 클릭
            logoutBtn?.addEventListener('click', async () => {
                try {
                    await signOut(auth);
                    alert('로그아웃되었습니다.');
                } catch (error) {
                    console.error('로그아웃 오류:', error);
                    alert('로그아웃 중 오류가 발생했습니다.');
                }
            });

            // 모달 닫기
            closeBtn?.addEventListener('click', () => {
                authModal.style.display = 'none';
            });

            // 모달 외부 클릭시 닫기
            authModal?.addEventListener('click', (e) => {
                if (e.target === authModal) {
                    authModal.style.display = 'none';
                }
            });

            // 로그인/회원가입 전환
            showSignupLink?.addEventListener('click', (e) => {
                e.preventDefault();
                showSignupModal();
            });

            showLoginLink?.addEventListener('click', (e) => {
                e.preventDefault();
                showLoginModal();
            });

            // 로그인 폼 제출
            loginFormElement?.addEventListener('submit', async (e) => {
                e.preventDefault();
                await handleLogin();
            });

            // 회원가입 폼 제출
            signupFormElement?.addEventListener('submit', async (e) => {
                e.preventDefault();
                await handleSignup();
            });

            // 모달 표시 함수들
            function showLoginModal() {
                modalTitle.textContent = '로그인';
                loginForm.style.display = 'block';
                signupForm.style.display = 'none';
                authModal.style.display = 'flex';
                document.getElementById('loginEmail').focus();
            }

            function showSignupModal() {
                modalTitle.textContent = '회원가입';
                loginForm.style.display = 'none';
                signupForm.style.display = 'block';
                authModal.style.display = 'flex';
                document.getElementById('signupName').focus();
            }

            // 로그인 처리
            async function handleLogin() {
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                const submitBtn = document.querySelector('#loginForm .auth-submit-btn');

                try {
                    submitBtn.disabled = true;
                    submitBtn.textContent = '로그인 중...';

                    const userCredential = await signInWithEmailAndPassword(auth, email, password);
                    console.log('로그인 성공:', userCredential.user);
                    
                    authModal.style.display = 'none';
                    alert('로그인되었습니다!');
                    
                    // 폼 초기화
                    loginFormElement.reset();

                } catch (error) {
                    console.error('로그인 오류:', error);
                    
                    let errorMessage = '로그인에 실패했습니다.';
                    switch (error.code) {
                        case 'auth/user-not-found':
                            errorMessage = '등록되지 않은 이메일입니다.';
                            break;
                        case 'auth/wrong-password':
                            errorMessage = '비밀번호가 올바르지 않습니다.';
                            break;
                        case 'auth/invalid-email':
                            errorMessage = '유효하지 않은 이메일 형식입니다.';
                            break;
                        case 'auth/too-many-requests':
                            errorMessage = '너무 많은 시도가 있었습니다. 잠시 후 다시 시도해주세요.';
                            break;
                    }
                    alert(errorMessage);
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = '로그인';
                }
            }

            // 회원가입 처리
            async function handleSignup() {
                const name = document.getElementById('signupName').value;
                const email = document.getElementById('signupEmail').value;
                const password = document.getElementById('signupPassword').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                const submitBtn = document.querySelector('#signupForm .auth-submit-btn');

                // 비밀번호 확인
                if (password !== confirmPassword) {
                    alert('비밀번호가 일치하지 않습니다.');
                    return;
                }

                if (password.length < 6) {
                    alert('비밀번호는 6자 이상이어야 합니다.');
                    return;
                }

                try {
                    submitBtn.disabled = true;
                    submitBtn.textContent = '회원가입 중...';

                    const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                    console.log('회원가입 성공:', userCredential.user);

                    // 사용자 프로필 업데이트 (이름 추가)
                    await updateProfile(userCredential.user, {
                        displayName: name
                    });

                    authModal.style.display = 'none';
                    alert('회원가입이 완료되었습니다!');
                    
                    // 폼 초기화
                    signupFormElement.reset();

                } catch (error) {
                    console.error('회원가입 오류:', error);
                    
                    let errorMessage = '회원가입에 실패했습니다.';
                    switch (error.code) {
                        case 'auth/email-already-in-use':
                            errorMessage = '이미 사용 중인 이메일입니다.';
                            break;
                        case 'auth/invalid-email':
                            errorMessage = '유효하지 않은 이메일 형식입니다.';
                            break;
                        case 'auth/weak-password':
                            errorMessage = '비밀번호가 너무 약합니다.';
                            break;
                    }
                    alert(errorMessage);
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = '회원가입';
                }
            }
        }
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #FDFBF7;
        }

        .handwriting {
            font-family: 'Nanum Pen Script', cursive;
        }

        /* Navigation */
        .navbar {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid #e5e7eb;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: #66C6C6;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-text h1 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
        }

        .logo-text p {
            font-size: 0.75rem;
            color: #6b7280;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: #6b7280;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #66C6C6;
        }

        .phone-btn {
            background: #66C6C6;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: background 0.3s;
        }

        .phone-btn:hover {
            background: #50B0B0;
        }

        /* Auth Navigation Styles */
        .nav-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .auth-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .login-btn {
            background: transparent;
            color: #6b7280;
            border: 1px solid #d1d5db;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .login-btn:hover {
            color: #66C6C6;
            border-color: #66C6C6;
        }

        .signup-btn {
            background: #66C6C6;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.3s;
        }

        .signup-btn:hover {
            background: #50B0B0;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-name {
            color: #1f2937;
            font-weight: 500;
        }

        .logout-btn {
            background: #ef4444;
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .logout-btn:hover {
            background: #dc2626;
        }

        /* 후기 게시판 스타일 */
        .write-review-section {
            margin-bottom: 3rem;
        }

        .review-write-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid #e5e7eb;
        }

        .review-write-title {
            color: #1f2937;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .review-form .form-group {
            margin-bottom: 1.5rem;
        }

        .review-form input,
        .review-form textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
            box-sizing: border-box;
        }

        .review-form input:focus,
        .review-form textarea:focus {
            outline: none;
            border-color: #66C6C6;
            box-shadow: 0 0 0 3px rgba(102, 198, 198, 0.1);
        }

        .star-rating {
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            gap: 0.25rem;
            margin-top: 0.5rem;
            align-items: center;
        }

        .star-rating input[type="radio"] {
            display: none;
        }

        .star-rating label {
            font-size: 2rem;
            color: #d1d5db;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            line-height: 1;
        }

        .star-rating label:hover {
            color: #fbbf24;
            transform: scale(1.1);
        }

        /* 별점 활성화 스타일 */
        .star-rating input[type="radio"]:checked ~ label,
        .star-rating label.active {
            color: #f59e0b;
        }

        /* 별점 호버 효과 개선 */
        .star-rating:hover label {
            color: #d1d5db;
        }

        .star-rating label:hover,
        .star-rating label:hover ~ label {
            color: #fbbf24;
        }

        .char-count {
            text-align: right;
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 0.5rem;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .submit-btn {
            background: #66C6C6;
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .submit-btn:hover {
            background: #50B0B0;
        }

        .submit-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .cancel-btn {
            background: transparent;
            color: #6b7280;
            border: 1px solid #d1d5db;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .cancel-btn:hover {
            color: #374151;
            border-color: #9ca3af;
        }

        .reviews-container {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid #e5e7eb;
        }

        .reviews-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #f3f4f6;
        }

        .reviews-stats {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
        }

        .write-review-btn {
            background: #66C6C6;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .write-review-btn:hover {
            background: #50B0B0;
        }

        .login-prompt {
            color: #6b7280;
            font-size: 0.875rem;
        }

        .link-btn {
            background: none;
            border: none;
            color: #66C6C6;
            text-decoration: underline;
            cursor: pointer;
            font-size: inherit;
        }

        .link-btn:hover {
            color: #50B0B0;
        }

        .reviews-list {
            min-height: 200px;
        }

        .review-item {
            border-bottom: 1px solid #f3f4f6;
            padding: 1.5rem 0;
        }

        .review-item:last-child {
            border-bottom: none;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .review-author {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .author-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #66C6C6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .author-info h4 {
            margin: 0;
            font-size: 1rem;
            font-weight: 600;
            color: #1f2937;
        }

        .author-info .review-date {
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }

        .review-rating {
            display: flex;
            gap: 0.125rem;
        }

        .review-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.75rem;
        }

        .review-content {
            color: #374151;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .review-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            justify-content: flex-end;
        }

        .action-btn {
            background: none;
            border: none;
            color: #6b7280;
            font-size: 0.875rem;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            transition: color 0.3s;
        }

        .action-btn:hover {
            color: #374151;
            background: #f9fafb;
        }

        .action-btn.delete:hover {
            color: #dc2626;
        }

        .loading-message {
            text-align: center;
            color: #6b7280;
            padding: 3rem;
            font-style: italic;
        }

        .empty-message {
            text-align: center;
            color: #6b7280;
            padding: 3rem;
        }

        .load-more-container {
            text-align: center;
            margin-top: 2rem;
        }

        .load-more-btn {
            background: transparent;
            color: #66C6C6;
            border: 1px solid #66C6C6;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .load-more-btn:hover {
            background: #66C6C6;
            color: white;
        }

        /* 반응형 디자인 */
        @media (max-width: 768px) {
            .reviews-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .review-header {
                flex-direction: column;
                gap: 0.5rem;
            }

            .review-actions {
                justify-content: flex-start;
            }

            .form-actions {
                flex-direction: column;
            }

            .star-rating {
                justify-content: center;
            }
        }

        /* Hero Section */
        .hero {
            position: relative;
            height: 600px;
            overflow: hidden;
            display: flex;
            align-items: center;
        }

        .hero-bg {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to right, rgba(255, 248, 240, 0.8), rgba(255, 237, 213, 0.5));
        }

        .hero-content {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            z-index: 10;
        }

        .hero-text {
            max-width: 600px;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            color: #111827;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            line-height: 1.2;
            margin-bottom: 1rem;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: #4b5563;
            margin-bottom: 2rem;
        }

        .hero-btn {
            background: #66C6C6;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.125rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .hero-btn:hover {
            background: #50B0B0;
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        /* Section Styles */
        .section {
            padding: 5rem 1rem;
        }

        .section-white {
            background: white;
        }

        .section-light {
            background: #FDFBF7;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .text-center {
            text-align: center;
        }

        .section-title {
            font-size: 3rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1.5rem;
        }

        .section-subtitle {
            font-size: 1.25rem;
            color: #6b7280;
            margin-bottom: 4rem;
        }

        /* Grid Layouts */
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border: 1px solid #e5e7eb;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .service-card {
            background: #F8F8F8;
            text-align: center;
            border: none;
        }

        .service-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            transition: transform 0.3s;
        }

        .service-card:hover .service-icon {
            transform: scale(1.1);
        }

        .service-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 0.75rem;
        }

        .service-desc {
            color: #4b5563;
            font-weight: 500;
            margin-bottom: 1rem;
        }

        .service-list {
            list-style: none;
            color: #6b7280;
            font-size: 0.875rem;
        }

        .service-list li {
            margin-bottom: 0.5rem;
        }

        /* Icon Colors */
        .icon-teal { background: #E0F2F2; }
        .icon-purple { background: #F2E0F2; }
        .icon-green { background: #E0F2E0; }
        .icon-yellow { background: #F2F2E0; }
        .icon-red { background: #F2E0E0; }

        /* Trust Section */
        .trust-card {
            background: #F8F8F8;
            border-radius: 1.5rem;
            padding: 2.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .trust-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .trust-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
        }

        .trust-list {
            list-style: none;
        }

        .trust-list li {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
            color: #4b5563;
        }

        /* Contact Section */
        .contact-card {
            background: white;
            border-radius: 1.5rem;
            padding: 3rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .contact-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .contact-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
        }

        .contact-info {
            color: #4b5563;
            line-height: 1.8;
        }

        .contact-info strong {
            color: #1f2937;
        }

        .phone-link {
            font-size: 2rem;
            font-weight: 700;
            color: #66C6C6;
            text-decoration: none;
            transition: color 0.3s;
        }

        .phone-link:hover {
            color: #50B0B0;
        }

        /* 지도 관련 스타일 */
        .map-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, #4A90E2, #357ABD);
            color: white;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
        }

        .map-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
            background: linear-gradient(135deg, #357ABD, #2968A3);
            color: white;
            text-decoration: none;
        }

        .map-container {
            transition: transform 0.3s ease;
        }

        .map-container:hover {
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .map-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .map-btn {
                width: 80%;
                justify-content: center;
            }
        }

        /* Form Styles */
        .form-section {
            background: #FDFBF7;
            padding: 5rem 1rem;
        }

        .form-card {
            background: white;
            border-radius: 1.5rem;
            padding: 3rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 0 auto;
        }

        .form-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .form-title {
            font-size: 2rem;
            color: #1f2937;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
        }

        .required {
            color: #ef4444;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: #66C6C6;
            box-shadow: 0 0 0 3px rgba(102, 198, 198, 0.1);
        }

        .radio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .radio-option {
            position: relative;
        }

        .radio-option input {
            position: absolute;
            opacity: 0;
        }

        .radio-label {
            display: block;
            padding: 1rem;
            border: 2px solid #d1d5db;
            border-radius: 0.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .radio-option input:checked + .radio-label {
            border-color: #66C6C6;
            background: #E0F2F2;
        }

        .submit-btn {
            background: #66C6C6;
            color: white;
            padding: 1rem 3rem;
            border: none;
            border-radius: 50px;
            font-size: 1.125rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0 auto;
        }

        .submit-btn:hover {
            background: #50B0B0;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        /* CTA Section */
        .cta-section {
            background: #66C6C6;
            color: white;
            padding: 5rem 1rem;
            text-align: center;
        }

        .cta-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 2rem;
        }

        .cta-subtitle {
            font-size: 1.5rem;
            opacity: 0.9;
            margin-bottom: 3rem;
        }

        .cta-btn {
            background: white;
            color: #66C6C6;
            padding: 1.5rem 3rem;
            border: none;
            border-radius: 50px;
            font-size: 1.25rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
        }

        .cta-btn:hover {
            background: #f9fafb;
            transform: translateY(-3px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.25);
        }

        /* Footer */
        .footer {
            background: #111827;
            color: white;
            padding: 3rem 1rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h4 {
            font-size: 1.125rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .footer-section p,
        .footer-section li {
            color: #d1d5db;
            margin-bottom: 0.5rem;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-bottom {
            border-top: 1px solid #374151;
            padding-top: 2rem;
            text-align: center;
            color: #9ca3af;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        /* 은은한 관리자 버튼 스타일 */
        .admin-access-btn {
            background: transparent;
            border: 1px solid #4b5563;
            border-radius: 6px;
            padding: 0.5rem;
            cursor: pointer;
            color: #6b7280;
            transition: all 0.3s ease;
            opacity: 0.3;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .admin-access-btn:hover {
            opacity: 0.8;
            border-color: #66C6C6;
            color: #66C6C6;
            background: rgba(102, 198, 198, 0.05);
            transform: scale(1.05);
        }

        .admin-access-btn:active {
            transform: scale(0.95);
        }

        /* 반응형: 모바일에서는 버튼을 아래로 */
        @media (max-width: 768px) {
            .footer-bottom {
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .admin-access-btn {
                opacity: 0.2;
                padding: 0.4rem;
            }
        }

        /* Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero-title {
                font-size: 2.5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .grid-3,
            .grid-2 {
                grid-template-columns: 1fr;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .radio-grid {
                grid-template-columns: 1fr;
            }
        }

        /* 개인정보 동의 스타일 */
        .privacy-consent-label {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            cursor: pointer;
            background: #f9fafb;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .privacy-consent-label:hover {
            background: #f3f4f6;
            border-color: #d1d5db;
        }

        .privacy-checkbox {
            margin-top: 0.25rem;
            flex-shrink: 0;
        }

        .privacy-text {
            flex: 1;
            min-width: 0;
        }

        .privacy-title {
            font-weight: 600;
            color: #374151;
            line-height: 1.5;
            word-break: keep-all;
            overflow-wrap: break-word;
        }

        .privacy-description {
            color: #6b7280;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            line-height: 1.6;
            word-break: keep-all;
            overflow-wrap: break-word;
        }

        /* 모바일 최적화 */
        @media (max-width: 768px) {
            .privacy-consent-label {
                padding: 0.75rem;
                gap: 0.5rem;
                border-radius: 0.375rem;
            }

            .privacy-title {
                font-size: 0.9rem;
                line-height: 1.4;
            }

            .privacy-description {
                font-size: 0.8rem;
                margin-top: 0.375rem;
                line-height: 1.5;
            }

            .privacy-checkbox {
                margin-top: 0.125rem;
                transform: scale(0.9);
            }
        }

        /* 매우 작은 화면 (아이폰 SE 등) */
        @media (max-width: 480px) {
            .privacy-consent-label {
                padding: 0.5rem;
                gap: 0.375rem;
            }

            .privacy-title {
                font-size: 0.85rem;
                line-height: 1.3;
            }

            .privacy-description {
                font-size: 0.75rem;
                line-height: 1.4;
                margin-top: 0.25rem;
            }
        }

        /* 네비게이션 모바일 최적화 */
        @media (max-width: 768px) {
            .nav-container {
                padding: 0.75rem 1rem;
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .logo {
                gap: 0.5rem;
            }

            .logo-text h1 {
                font-size: 1.1rem;
            }

            .logo-text p {
                font-size: 0.7rem;
            }

            .nav-links {
                display: none;
            }

            .nav-actions {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                flex-wrap: wrap;
            }

            .auth-buttons {
                gap: 0.5rem;
            }

            .login-btn,
            .signup-btn {
                padding: 0.4rem 0.8rem;
                font-size: 0.8rem;
                border-radius: 0.375rem;
            }

            .phone-btn {
                padding: 0.5rem;
                min-width: auto;
                gap: 0.25rem;
            }

            .phone-number {
                display: none;
            }

            .user-menu {
                gap: 0.5rem;
            }

            .user-name {
                font-size: 0.8rem;
                max-width: 80px;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            .logout-btn {
                padding: 0.4rem 0.8rem;
                font-size: 0.8rem;
            }
        }

        /* 매우 작은 모바일 화면 */
        @media (max-width: 480px) {
            .nav-container {
                padding: 0.5rem;
            }

            .logo-text h1 {
                font-size: 1rem;
            }

            .logo-text p {
                display: none;
            }

            .auth-buttons {
                flex-direction: column;
                gap: 0.25rem;
            }

            .login-btn,
            .signup-btn {
                padding: 0.35rem 0.7rem;
                font-size: 0.75rem;
                min-width: 60px;
            }

            .phone-btn {
                padding: 0.4rem;
            }

            .user-name {
                max-width: 60px;
                font-size: 0.75rem;
            }

            .logout-btn {
                padding: 0.35rem 0.6rem;
                font-size: 0.75rem;
            }
        }

        /* 햄버거 메뉴 스타일 */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: #6b7280;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.375rem;
            transition: all 0.3s;
        }

        .mobile-menu-btn:hover {
            background: #f3f4f6;
            color: #66C6C6;
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
        }

        /* 모바일 메뉴 패널 */
        .mobile-menu-panel {
            position: fixed;
            top: 0;
            left: -100%;
            width: 280px;
            height: 100vh;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            z-index: 9999;
            transition: left 0.3s ease;
            overflow-y: auto;
        }

        .mobile-menu-panel.active {
            left: 0;
        }

        .mobile-menu-content {
            padding: 1rem;
        }

        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e5e7eb;
            margin-bottom: 1rem;
        }

        .mobile-menu-header span {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
        }

        .mobile-menu-header button {
            background: none;
            border: none;
            color: #6b7280;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.375rem;
            transition: all 0.3s;
        }

        .mobile-menu-header button:hover {
            background: #f3f4f6;
            color: #66C6C6;
        }

        .mobile-nav-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .mobile-nav-links li {
            margin-bottom: 0.5rem;
        }

        .mobile-nav-links a {
            display: block;
            padding: 1rem;
            text-decoration: none;
            color: #6b7280;
            font-weight: 500;
            border-radius: 0.5rem;
            transition: all 0.3s;
        }

        .mobile-nav-links a:hover {
            background: #f3f4f6;
            color: #66C6C6;
        }

        /* 오버레이 */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.5);
            z-index: 9998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        @media (min-width: 769px) {
            .mobile-menu-panel,
            .mobile-menu-overlay {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <div class="logo-icon">
                    <i data-lucide="heart" style="color: white; width: 24px; height: 24px;"></i>
                </div>
                <div class="logo-text">
                    <h1>조이상담코칭센터</h1>
                    <p>Joy Counseling & Coaching Center</p>
                </div>
            </div>
            <ul class="nav-links">
                <li><a href="#about">센터소개</a></li>
                <li><a href="#services">상담프로그램</a></li>
                <li><a href="#reviews">후기게시판</a></li>
                <li><a href="#consultation">상담신청</a></li>
                <li><a href="#contact">오시는길</a></li>
            </ul>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="메뉴 열기">
                <i data-lucide="menu" style="width: 20px; height: 20px;"></i>
            </button>
            <div class="nav-actions">
                <!-- 로그인 상태에 따라 표시/숨김 -->
                <div id="auth-buttons" class="auth-buttons">
                    <button id="loginBtn" class="login-btn">로그인</button>
                    <button id="signupBtn" class="signup-btn">회원가입</button>
                </div>
                <div id="user-menu" class="user-menu" style="display: none;">
                    <span id="user-name" class="user-name">사용자님</span>
                    <button id="logoutBtn" class="logout-btn">로그아웃</button>
                </div>
                <button class="phone-btn">
                    <i data-lucide="phone" style="width: 16px; height: 16px;"></i>
                    <span class="phone-number">031-275-3636</span>
                </button>
            </div>
        </div>
        
        <!-- 모바일 메뉴 패널 -->
        <div id="mobile-menu" class="mobile-menu-panel">
            <div class="mobile-menu-content">
                <div class="mobile-menu-header">
                    <span>메뉴</span>
                    <button onclick="toggleMobileMenu()" aria-label="메뉴 닫기">
                        <i data-lucide="x" style="width: 20px; height: 20px;"></i>
                    </button>
                </div>
                <ul class="mobile-nav-links">
                    <li><a href="#about" onclick="toggleMobileMenu()">센터소개</a></li>
                    <li><a href="#services" onclick="toggleMobileMenu()">상담프로그램</a></li>
                    <li><a href="#reviews" onclick="toggleMobileMenu()">후기게시판</a></li>
                    <li><a href="#consultation" onclick="toggleMobileMenu()">상담신청</a></li>
                    <li><a href="#contact" onclick="toggleMobileMenu()">오시는길</a></li>
                </ul>
            </div>
        </div>
        
        <!-- 모바일 메뉴 오버레이 -->
        <div id="mobile-menu-overlay" class="mobile-menu-overlay" onclick="toggleMobileMenu()"></div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/d_h19Ud018svcrfmhxykezjfk_p435h4.jpg-BEwhVd6sM2VhabRyFHAQSAAL5diPj2.jpeg" alt="변화, 성장 그리고 함께" class="hero-bg">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title handwriting">
                    나의 <span style="color: white;">마음을</span> 새롭게,<br>
                    나의 <span style="color: white;">삶을</span> 새롭게
                </h1>
                <p class="hero-subtitle">Renew My Heart, Renew My Life</p>
                <button class="hero-btn">모두를 위한 심리솔루션</button>
            </div>
        </div>
    </section>

    <!-- 결론부터 말할게요 Section -->
    <section class="section section-light fade-in">
        <div class="container text-center">
            <h2 class="section-title">💝 마음 건강의 든든한 파트너</h2>
            <p class="section-subtitle">마음이 힘들 때, 조이상담코칭센터가 곁에 있습니다</p>
            
            <div class="grid-3">
                <div class="text-center">
                    <div class="service-icon icon-teal">
                        <i data-lucide="lightbulb" style="color: #66C6C6; width: 48px; height: 48px;"></i>
                    </div>
                    <h3 class="service-title">전문 상담심리사</h3>
                    <p class="service-desc">박사·교수급 전문가가 1:1 맞춤 상담을 진행합니다.</p>
                </div>
                
                <div class="text-center">
                    <div class="service-icon icon-teal">
                        <i data-lucide="users" style="color: #66C6C6; width: 48px; height: 48px;"></i>
                    </div>
                    <h3 class="service-title">다양한 심리 영역</h3>
                    <p class="service-desc">아동부터 성인, 기업까지 다양한 심리 영역을 커버합니다.</p>
                </div>
                
                <div class="text-center">
                    <div class="service-icon icon-teal">
                        <i data-lucide="shield" style="color: #66C6C6; width: 48px; height: 48px;"></i>
                    </div>
                    <h3 class="service-title">신뢰받는 기관</h3>
                    <p class="service-desc">학교, 병원, 공공기관이 함께하는 신뢰받는 심리기관입니다.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 나의 이야기 Section -->
    <section class="section section-white fade-in">
        <div class="container">
            <div class="grid-2" style="align-items: center;">
                <div>
                    <img src="images/counseling.jpg" alt="상담을 통한 마음의 치유" style="width: 100%; height: 400px; object-fit: cover; border-radius: 50%; box-shadow: 0 20px 40px rgba(0,0,0,0.15); border: 4px solid white;">
                </div>
                <div>
                    <h2 class="section-title" style="text-align: left; margin-bottom: 1.5rem;">💝 상담을 통해 발견한 마음의 힘</h2>
                    <p style="font-size: 1.125rem; color: #4b5563; line-height: 1.8; margin-bottom: 1.5rem;">
                        요즘 따라 이유 없이 무기력하고, 누군가와 솔직히 나눌 공간이 간절했어요.<br>
                        그러다 알게 된 조이상담코칭센터.<br>
                        다정한 눈빛과 전문적인 태도가 이곳의 첫인상이었고,
                    </p>
                    <p style="font-size: 1.25rem; font-weight: 700; color: #66C6C6; background: #E0F2F2; padding: 1rem; border-radius: 0.75rem; display: inline-block;">
                        상담을 받으며 알았죠. 내 마음에도 근육이 필요하다는 걸.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- 센터 미션 Section -->
    <section class="section section-light fade-in">
        <div class="container text-center">
            <h2 class="section-title">🧭 조이상담코칭센터는 왜 만들어졌을까?</h2>
            <div class="card" style="max-width: 800px; margin: 0 auto; padding: 3rem; border-radius: 1.5rem;">
                <h3 style="font-size: 1.5rem; font-weight: 700; color: #66C6C6; margin-bottom: 1.5rem;">"건강한 가정과 사회를 꿈꾸는 기쁨 공동체"</h3>
                <p style="font-size: 1.125rem; color: #4b5563; line-height: 1.8;">
                    조이커뮤니티 사회적협동조합이 설립한 이 센터는<br>
                    마음의 어려움을 혼자 감당하지 않아도 되는 사회를 만들기 위해<br>
                    공공기관과 협력하며, 모두에게 열려 있는 상담 공간을 제공합니다.
                </p>
            </div>
        </div>
    </section>

    <!-- 주요 서비스 Section -->
    <section id="services" class="section section-white fade-in">
        <div class="container text-center">
            <h2 class="section-title">🧠 주요 서비스 소개</h2>
            <p class="section-subtitle">당신의 마음에 맞는 전문 상담을 찾아보세요</p>
            
            <div class="grid-3">
                <div class="card service-card">
                    <div class="service-icon icon-teal">
                        <i data-lucide="lightbulb" style="color: #66C6C6; width: 40px; height: 40px;"></i>
                    </div>
                    <h3 class="service-title">개인상담</h3>
                    <p class="service-desc">자기이해, 삶의 전환점이 필요할 때</p>
                    <ul class="service-list">
                        <li>• 성격 이해, 진로 고민</li>
                        <li>• 감정 조절, 심리검사</li>
                    </ul>
                </div>

                <div class="card service-card">
                    <div class="service-icon icon-purple">
                        <i data-lucide="message-circle" style="color: #9966CC; width: 40px; height: 40px;"></i>
                    </div>
                    <h3 class="service-title">부부·가족상담</h3>
                    <p class="service-desc">말이 통하지 않을 때, 관계가 지쳐갈 때</p>
                    <ul class="service-list">
                        <li>• 소통법 개선, 정서적 거리 회복</li>
                        <li>• 가족 놀이치료</li>
                    </ul>
                </div>

                <div class="card service-card">
                    <div class="service-icon icon-green">
                        <i data-lucide="baby" style="color: #66CC66; width: 40px; height: 40px;"></i>
                    </div>
                    <h3 class="service-title">아동·청소년 상담</h3>
                    <p class="service-desc">ADHD, 게임 중독, 학교 적응 문제 등</p>
                    <ul class="service-list">
                        <li>• 놀이치료, 모래놀이, 보드게임</li>
                        <li>• 진로 상담</li>
                    </ul>
                </div>

                <div class="card service-card">
                    <div class="service-icon icon-yellow">
                        <i data-lucide="camera" style="color: #CCCC66; width: 40px; height: 40px;"></i>
                    </div>
                    <h3 class="service-title">사진/미술 치료</h3>
                    <p class="service-desc">감정을 말로 하기 힘들 때, 표현으로 치유하세요</p>
                    <ul class="service-list">
                        <li>• 시각화 기반 감정 표현</li>
                        <li>• 정서 안정</li>
                    </ul>
                </div>

                <div class="card service-card">
                    <div class="service-icon icon-red">
                        <i data-lucide="heart" style="color: #CC6666; width: 40px; height: 40px;"></i>
                    </div>
                    <h3 class="service-title">외도상담</h3>
                    <p class="service-desc">무너진 신뢰, 복잡한 감정… 혼자 마주하지 마세요</p>
                    <ul class="service-list">
                        <li>• 심리상담 + 법률 연계</li>
                        <li>• 트라우마 회복</li>
                    </ul>
                </div>

                <div class="card service-card">
                    <div class="service-icon icon-teal">
                        <i data-lucide="heart" style="color: #66C6C6; width: 40px; height: 40px;"></i>
                    </div>
                    <h3 class="service-title">펫로스 상담</h3>
                    <p class="service-desc">반려동물과 이별한 당신에게</p>
                    <ul class="service-list">
                        <li>• 애도 감정 인정과 회복을 위한 전문 상담</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- 협력기관 Section -->
    <section class="section section-light fade-in">
        <div class="container text-center">
            <h2 class="section-title">💬 이런 곳에서도 함께하고 있어요</h2>
            
            <div class="grid-2">
                <div class="card">
                    <h3 style="font-size: 1.25rem; font-weight: 700; color: #1f2937; margin-bottom: 1.5rem;">교육 분야</h3>
                    <ul style="list-style: none; color: #6b7280;">
                        <li style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                            <div style="width: 8px; height: 8px; background: #66C6C6; border-radius: 50%;"></div>
                            <span><strong>용인교육지원청:</strong> 학교폭력 피해자 상담·보호</span>
                        </li>
                        <li style="display: flex; align-items: center; gap: 0.75rem;">
                            <div style="width: 8px; height: 8px; background: #9966CC; border-radius: 50%;"></div>
                            <span><strong>용인시 Wee센터:</strong> 지역투자 사업 연계</span>
                        </li>
                    </ul>
                </div>

                <div class="card">
                    <h3 style="font-size: 1.25rem; font-weight: 700; color: #1f2937; margin-bottom: 1.5rem;">의료·복지 분야</h3>
                    <ul style="list-style: none; color: #6b7280;">
                        <li style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                            <div style="width: 8px; height: 8px; background: #66CC66; border-radius: 50%;"></div>
                            <span><strong>용인세브란스병원:</strong> 아동학대 예방 교육</span>
                        </li>
                        <li style="display: flex; align-items: center; gap: 0.75rem;">
                            <div style="width: 8px; height: 8px; background: #CCCC66; border-radius: 50%;"></div>
                            <span><strong>아동권리보장원:</strong> 국내 입양가정 심리지원</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- 신뢰도 Section -->
    <section class="section section-white fade-in">
        <div class="container text-center">
            <h2 class="section-title">🏥 믿을 수 있는 이유</h2>
            <p class="section-subtitle">공공기관과 함께하는 검증된 심리상담 전문기관</p>
            
            <div class="grid-2">
                <div class="trust-card">
                    <div class="trust-header">
                        <i data-lucide="shield" style="color: #66C6C6; width: 48px; height: 48px;"></i>
                        <h3 class="trust-title">전문성</h3>
                    </div>
                    <ul class="trust-list">
                        <li>
                            <i data-lucide="check-circle" style="color: #10b981; width: 20px; height: 20px;"></i>
                            <span>심리학 박사/상담 교수 직접 상담</span>
                        </li>
                        <li>
                            <i data-lucide="check-circle" style="color: #10b981; width: 20px; height: 20px;"></i>
                            <span>보건복지부·교육청 등과 협력</span>
                        </li>
                        <li>
                            <i data-lucide="check-circle" style="color: #10b981; width: 20px; height: 20px;"></i>
                            <span>기획재정부 지정 공익법인</span>
                        </li>
                        <li>
                            <i data-lucide="check-circle" style="color: #10b981; width: 20px; height: 20px;"></i>
                            <span>민간 자격 발급 가능: 성심리상담사, 가족상담사 등</span>
                        </li>
                    </ul>
                </div>

                <div class="trust-card">
                    <div class="trust-header">
                        <i data-lucide="award" style="color: #9966CC; width: 48px; height: 48px;"></i>
                        <h3 class="trust-title">공신력</h3>
                    </div>
                    <ul class="trust-list">
                        <li>
                            <i data-lucide="star" style="color: #f59e0b; width: 20px; height: 20px;"></i>
                            <span>조이커뮤니티 사회적협동조합 운영</span>
                        </li>
                        <li>
                            <i data-lucide="star" style="color: #f59e0b; width: 20px; height: 20px;"></i>
                            <span>다수 공공기관과 협력 중</span>
                        </li>
                        <li>
                            <i data-lucide="star" style="color: #f59e0b; width: 20px; height: 20px;"></i>
                            <span>지역사회 밀착형 서비스</span>
                        </li>
                        <li>
                            <i data-lucide="star" style="color: #f59e0b; width: 20px; height: 20px;"></i>
                            <span>투명한 운영과 관리</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>



    <!-- 후기 게시판 Section -->
    <section id="reviews" class="section section-light fade-in">
        <div class="container">
            <div class="text-center" style="margin-bottom: 3rem;">
                <h2 class="section-title">💝 상담 후기</h2>
                <p class="section-subtitle">조이상담코칭센터와 함께한 분들의 소중한 후기입니다</p>
            </div>

            <!-- 후기 작성 섹션 (로그인한 사용자만) -->
            <div id="writeReviewSection" class="write-review-section" style="display: none;">
                <div class="review-write-card">
                    <h3 class="review-write-title">✍️ 후기 작성하기</h3>
                    <form id="reviewForm" class="review-form">
                        <div class="form-group">
                            <label for="reviewTitle" class="form-label">제목 <span class="required">*</span></label>
                            <input type="text" id="reviewTitle" required placeholder="후기 제목을 입력해주세요" maxlength="100">
                        </div>

                        <div class="form-group">
                            <label class="form-label">별점 평가 <span class="required">*</span></label>
                            <div class="star-rating" id="starRating">
                                <input type="radio" name="rating" value="1" id="star1" required>
                                <label for="star1" title="1점" data-rating="1">⭐</label>
                                <input type="radio" name="rating" value="2" id="star2">
                                <label for="star2" title="2점" data-rating="2">⭐</label>
                                <input type="radio" name="rating" value="3" id="star3">
                                <label for="star3" title="3점" data-rating="3">⭐</label>
                                <input type="radio" name="rating" value="4" id="star4">
                                <label for="star4" title="4점" data-rating="4">⭐</label>
                                <input type="radio" name="rating" value="5" id="star5">
                                <label for="star5" title="5점" data-rating="5">⭐</label>
                            </div>
                            <div class="rating-text" id="ratingText" style="margin-top: 0.5rem; color: #6b7280; font-size: 0.875rem;"></div>
                        </div>

                        <div class="form-group">
                            <label for="reviewContent" class="form-label">후기 내용 <span class="required">*</span></label>
                            <textarea id="reviewContent" required placeholder="상담 받으신 경험을 솔직하게 공유해주세요. 다른 분들에게 큰 도움이 됩니다." maxlength="1000" rows="6"></textarea>
                            <div class="char-count">
                                <span id="charCount">0</span>/1000
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="submit-btn">후기 등록</button>
                            <button type="button" id="cancelReview" class="cancel-btn">취소</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- 후기 목록 섹션 -->
            <div class="reviews-container">
                <!-- 후기 작성 버튼 (로그인한 사용자만) -->
                <div class="reviews-header">
                    <div class="reviews-stats">
                        <span id="reviewCount">0</span>개의 후기
                    </div>
                    <div class="reviews-actions">
                        <button id="writeReviewBtn" class="write-review-btn" style="display: none;">
                            ✍️ 후기 작성
                        </button>
                        <div id="loginPrompt" class="login-prompt">
                            <span>후기를 작성하려면 </span>
                            <button id="loginForReview" class="link-btn">로그인</button>
                            <span>해주세요</span>
                        </div>
                    </div>
                </div>

                <!-- 후기 목록 -->
                <div id="reviewsList" class="reviews-list">
                    <div class="loading-message">후기를 불러오는 중...</div>
                </div>

                <!-- 더 보기 버튼 -->
                <div class="load-more-container" style="display: none;">
                    <button id="loadMoreBtn" class="load-more-btn">더 보기</button>
                </div>
            </div>
        </div>
    </section>

    <!-- 상담신청 폼 Section -->
    <section id="consultation" class="form-section fade-in">
        <div class="container">
            <div class="text-center" style="margin-bottom: 3rem;">
                <h2 class="section-title">💝 상담신청하기</h2>
                <p class="section-subtitle">마음을 나누는 첫걸음, 지금 시작해보세요</p>
                <p style="color: #66C6C6; font-weight: 500; font-size: 1.125rem;">✨ 신청 후 24시간 내 연락드립니다</p>
            </div>

            <div class="form-card">
                <div class="form-header">
                    <h3 class="form-title">
                        <i data-lucide="book-open" style="color: #66C6C6; width: 32px; height: 32px;"></i>
                        상담신청서
                    </h3>
                </div>

                <form id="consultationForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">이름 <span class="required">*</span></label>
                            <input type="text" name="name" class="form-input" placeholder="실명을 입력해주세요" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">연락처 <span class="required">*</span></label>
                            <input type="tel" name="phone" class="form-input" placeholder="010-1234-5678" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">이메일 <span style="color: #9ca3af;">(선택)</span></label>
                        <input type="email" name="email" class="form-input" placeholder="example@email.com">
                    </div>

                    <div class="form-group">
                        <label class="form-label">상담 유형 <span class="required">*</span></label>
                        <div class="radio-grid">
                            <div class="radio-option">
                                <input type="radio" name="consultationType" value="individual" id="individual" required>
                                <label for="individual" class="radio-label">
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">💡</div>
                                    <div style="font-weight: 500;">개인상담</div>
                                </label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="consultationType" value="couple" id="couple">
                                <label for="couple" class="radio-label">
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">💬</div>
                                    <div style="font-weight: 500;">부부·가족상담</div>
                                </label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="consultationType" value="child" id="child">
                                <label for="child" class="radio-label">
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">👧</div>
                                    <div style="font-weight: 500;">아동·청소년 상담</div>
                                </label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="consultationType" value="art" id="art">
                                <label for="art" class="radio-label">
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">🖼️</div>
                                    <div style="font-weight: 500;">사진/미술 치료</div>
                                </label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="consultationType" value="affair" id="affair">
                                <label for="affair" class="radio-label">
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">💔</div>
                                    <div style="font-weight: 500;">외도상담</div>
                                </label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="consultationType" value="petloss" id="petloss">
                                <label for="petloss" class="radio-label">
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">🐾</div>
                                    <div style="font-weight: 500;">펫로스 상담</div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">상담 방식 <span class="required">*</span></label>
                        <div class="radio-grid" style="grid-template-columns: repeat(3, 1fr);">
                            <div class="radio-option">
                                <input type="radio" name="consultationMethod" value="offline" id="offline" required>
                                <label for="offline" class="radio-label">
                                    <div style="font-weight: 500; margin-bottom: 0.25rem;">대면상담</div>
                                    <div style="font-size: 0.75rem; color: #6b7280;">센터 방문</div>
                                </label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="consultationMethod" value="phone" id="phone-method">
                                <label for="phone-method" class="radio-label">
                                    <div style="font-weight: 500; margin-bottom: 0.25rem;">전화상담</div>
                                    <div style="font-size: 0.75rem; color: #6b7280;">음성 통화</div>
                                </label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="consultationMethod" value="online" id="online">
                                <label for="online" class="radio-label">
                                    <div style="font-weight: 500; margin-bottom: 0.25rem;">온라인상담</div>
                                    <div style="font-size: 0.75rem; color: #6b7280;">화상 통화</div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">희망 날짜 <span style="color: #9ca3af;">(선택)</span></label>
                            <input type="date" name="preferredDate" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label">희망 시간 <span style="color: #9ca3af;">(선택)</span></label>
                            <select name="preferredTime" class="form-input">
                                <option value="">시간 선택</option>
                                <option value="morning">오전 (09:00-12:00)</option>
                                <option value="afternoon">오후 (13:00-17:00)</option>
                                <option value="evening">저녁 (18:00-21:00)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">상담받고 싶은 내용 <span style="color: #9ca3af;">(선택)</span></label>
                        <textarea name="message" rows="4" class="form-input" placeholder="어떤 고민이나 어려움이 있으신지 간단히 적어주세요. (선택사항)"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="privacy-consent-label">
                            <input type="checkbox" name="privacyConsent" required class="privacy-checkbox">
                            <div class="privacy-text">
                                <span class="privacy-title">개인정보 수집 및 이용에 동의합니다 <span class="required">*</span></span>
                                <p class="privacy-description">상담 서비스 제공을 위해 개인정보를 수집하며, 상담 완료 후 안전하게 폐기됩니다.</p>
                            </div>
                        </label>
                    </div>

                    <div style="text-align: center; padding-top: 1rem;">
                        <button type="submit" class="submit-btn">
                            <i data-lucide="smile" style="width: 20px; height: 20px;"></i>
                            상담신청하기
                        </button>
                        <p style="color: #6b7280; font-size: 0.875rem; margin-top: 0.75rem;">💌 신청 후 24시간 내에 전화로 연락드립니다</p>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- 찾아오시는 길 Section -->
    <section id="contact" class="section section-light fade-in">
        <div class="container text-center">
            <h2 class="section-title">📍 찾아오시는 길</h2>
            <p class="section-subtitle">동백역에서 도보 1분, 접근성이 뛰어난 위치</p>
            
            <div class="contact-card">
                <div class="grid-2">
                    <div>
                        <div class="contact-header">
                            <i data-lucide="map-pin" style="color: #CC6666; width: 32px; height: 32px;"></i>
                            <h3 class="contact-title">주소 및 교통</h3>
                        </div>
                        <div class="contact-info">
                            <p><strong>주소:</strong><br>용인시 기흥구 동백3로11번길 3, 동백역타워 601호</p>
                            <p><strong>지하철:</strong><br>동백역 2번 출구 도보 1분</p>
                            <p><strong>버스:</strong><br>66-4 / 5003-B / 810 (서해그랑블 하차)</p>
                        </div>
                    </div>

                    <div>
                        <div class="contact-header">
                            <i data-lucide="phone" style="color: #66CC66; width: 32px; height: 32px;"></i>
                            <h3 class="contact-title">연락처 정보</h3>
                        </div>
                        <div class="contact-info">
                            <p style="color: #6b7280; margin-bottom: 0.5rem;">상담 예약 및 문의</p>
                            <a href="tel:031-275-3636" class="phone-link">031-275-3636</a>
                            <p style="color: #6b7280; margin: 1.5rem 0 0.5rem;">홈페이지</p>
                            <a href="https://www.joycom.or.kr" target="_blank" style="color: #66C6C6; text-decoration: none; font-size: 1.125rem;">www.joycom.or.kr</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 네이버지도 섹션 -->
            <div class="map-section" style="margin-top: 3rem;">
                <div class="contact-header" style="justify-content: center; margin-bottom: 2rem;">
                    <i data-lucide="navigation" style="color: #4A90E2; width: 32px; height: 32px;"></i>
                    <h3 class="contact-title">네이버지도로 길찾기</h3>
                </div>
                
                <!-- 네이버지도 iframe -->
                <div class="map-container" style="background: white; border-radius: 15px; padding: 1rem; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                    <iframe 
                        src="https://map.naver.com/v5/search/용인시%20기흥구%20동백3로11번길%203%20동백역타워?c=15,0,0,0,dh"
                        width="100%" 
                        height="400" 
                        frameborder="0" 
                        style="border:0; border-radius: 10px;"
                        allowfullscreen
                        loading="lazy">
                    </iframe>
                </div>

                <!-- 지도 관련 버튼들 -->
                <div class="map-actions" style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <a href="https://map.naver.com/v5/search/용인시%20기흥구%20동백3로11번길%203%20동백역타워" 
                       target="_blank" 
                       class="map-btn">
                        <i data-lucide="external-link" style="width: 16px; height: 16px;"></i>
                        네이버지도에서 보기
                    </a>
                    
                    <a href="https://map.naver.com/v5/directions/-/-/place/37.2685,127.1562" 
                       target="_blank" 
                       class="map-btn">
                        <i data-lucide="route" style="width: 16px; height: 16px;"></i>
                        길찾기
                    </a>
                    
                    <a href="https://map.kakao.com/?q=용인시%20기흥구%20동백3로11번길%203%20동백역타워" 
                       target="_blank" 
                       class="map-btn">
                        <i data-lucide="map" style="width: 16px; height: 16px;"></i>
                        카카오맵에서 보기
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section fade-in">
        <div class="container">
            <h2 class="cta-title">🤳 상담이 필요하신가요?</h2>
            <p class="cta-subtitle">망설이지 마세요. 당신의 마음은 소중하니까요.</p>
            <button class="cta-btn">
                <i data-lucide="phone" style="width: 24px; height: 24px;"></i>
                지금 상담 예약하기: 031-275-3636
            </button>
            <div style="margin-top: 2rem; font-size: 1.125rem; opacity: 0.8;">
                🌐 홈페이지: <a href="https://www.joycom.or.kr" style="color: white; text-decoration: underline;">www.joycom.or.kr</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                    <i data-lucide="heart" style="color: #66C6C6; width: 32px; height: 32px;"></i>
                    <span style="font-size: 1.5rem; font-weight: 700;">조이상담코칭센터</span>
                </div>
                <p>건강한 가정과 사회를 꿈꾸는 기쁨 공동체</p>
            </div>

            <div class="footer-section">
                <h4>상담 프로그램</h4>
                <ul>
                    <li>개인상담 · 부부가족상담</li>
                    <li>아동청소년상담 · 미술치료</li>
                    <li>외도상담 · 펫로스상담</li>
                    <li>기업조직상담</li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>연락처</h4>
                <p>📞 031-275-3636</p>
                <p>📍 용인시 기흥구 동백3로11번길 3, 동백역타워 601호</p>
                <p>🌐 www.joycom.or.kr</p>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2024 조이상담코칭센터. All rights reserved.</p>
            <button class="admin-access-btn" onclick="window.open('admin.html', '_blank')" title="관리자 페이지">
                <i data-lucide="settings" style="width: 14px; height: 14px;"></i>
            </button>
        </div>
    </footer>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // 모바일 메뉴 토글 함수
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const overlay = document.getElementById('mobile-menu-overlay');
            
            if (mobileMenu && overlay) {
                const isActive = mobileMenu.classList.contains('active');
                
                if (isActive) {
                    // 메뉴 닫기
                    mobileMenu.classList.remove('active');
                    overlay.classList.remove('active');
                    document.body.style.overflow = '';
                } else {
                    // 메뉴 열기
                    mobileMenu.classList.add('active');
                    overlay.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            }
        }

        // ESC 키로 모바일 메뉴 닫기
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const mobileMenu = document.getElementById('mobile-menu');
                const overlay = document.getElementById('mobile-menu-overlay');
                
                if (mobileMenu && mobileMenu.classList.contains('active')) {
                    mobileMenu.classList.remove('active');
                    overlay.classList.remove('active');
                    document.body.style.overflow = '';
                }
            }
        });

        // Scroll animation
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Firebase에 상담신청서 저장하는 함수 (개선된 버전)
        async function saveConsultationToFirebase(consultationData) {
            try {
                console.log('🔄 상담신청서 저장 시작...');
                console.log('📋 전송할 데이터:', consultationData);
                
                // Firebase 초기화 상태 확인
                if (!window.firebaseInitialized) {
                    throw new Error(`Firebase 초기화 오류: ${window.firebaseError || '알 수 없는 오류'}`);
                }
                
                // 필수 Firebase 객체 확인
                if (!window.db) {
                    throw new Error('Firestore 데이터베이스에 연결할 수 없습니다.');
                }
                
                if (!window.addDoc || !window.collection || !window.serverTimestamp) {
                    throw new Error('Firebase 함수들이 로드되지 않았습니다.');
                }
                
                console.log('✅ Firebase 연결 상태 확인 완료');

                // 데이터 구조 검증
                const requiredFields = ['name', 'phone', 'consultationType', 'consultationMethod', 'privacyConsent'];
                const missingFields = requiredFields.filter(field => !consultationData[field]);
                
                if (missingFields.length > 0) {
                    throw new Error(`필수 항목이 누락되었습니다: ${missingFields.join(', ')}`);
                }

                // Firestore에 저장할 데이터 구성
                const dataToSave = {
                    ...consultationData,
                    status: 'pending',
                    createdAt: window.serverTimestamp(),
                    updatedAt: window.serverTimestamp(),
                    source: 'website',
                    version: '1.0'
                };

                console.log('💾 Firestore에 저장 시도 중...');
                
                // Firestore에 데이터 저장
                const docRef = await window.addDoc(window.collection(window.db, 'consultations'), dataToSave);
                
                console.log('✅ 상담신청서 저장 성공! 문서 ID:', docRef.id);

                // 알림 발송 (비동기로 처리하여 사용자 경험 개선)
                const applicationData = {
                    ...consultationData,
                    id: docRef.id
                };
                
                // 알림 발송을 백그라운드에서 처리
                sendNotifications(applicationData).catch(error => {
                    console.error('⚠️ 알림 발송 실패 (저장은 성공):', error);
                });

                return {
                    success: true,
                    id: docRef.id,
                    message: '상담신청이 성공적으로 접수되었습니다.'
                };

            } catch (error) {
                console.error('❌ 상담신청서 저장 실패:', error);
                
                // 오류 유형별 메시지 처리
                let userMessage = '신청 접수 중 오류가 발생했습니다.';
                
                if (error.code === 'permission-denied') {
                    userMessage = '권한이 없습니다. 잠시 후 다시 시도해주세요.';
                } else if (error.code === 'unavailable') {
                    userMessage = '현재 서버에 연결할 수 없습니다. 네트워크 연결을 확인해주세요.';
                } else if (error.message.includes('Firebase')) {
                    userMessage = '데이터베이스 연결에 문제가 있습니다. 페이지를 새로고침 후 다시 시도해주세요.';
                } else if (error.message.includes('필수 항목')) {
                    userMessage = error.message;
                }
                
                // 폴백: 로컬 저장 및 관리자 알림
                await handleSaveFailure(consultationData, error);
                
                return {
                    success: false,
                    error: error.message,
                    message: userMessage + '\n\n긴급한 경우 직접 전화주세요: 031-275-3636'
                };
            }
        }
        
        // 저장 실패 시 폴백 처리
        async function handleSaveFailure(consultationData, error) {
            try {
                console.log('🚨 저장 실패 폴백 처리 시작...');
                
                // 1. 로컬 스토리지에 임시 저장
                const failedSubmissions = JSON.parse(localStorage.getItem('failedConsultations') || '[]');
                failedSubmissions.push({
                    data: consultationData,
                    error: error.message,
                    timestamp: new Date().toISOString(),
                    id: Date.now()
                });
                localStorage.setItem('failedConsultations', JSON.stringify(failedSubmissions));
                
                // 2. 관리자에게 긴급 알림
                const emergencyMessage = `
🚨 상담신청 저장 실패 알림!

신청자: ${consultationData.name}
연락처: ${consultationData.phone}
오류: ${error.message}
시간: ${new Date().toLocaleString('ko-KR')}

즉시 확인 필요!
                `;
                
                // 브라우저 알림
                if ('Notification' in window && Notification.permission === 'granted') {
                    new Notification('🚨 상담신청 저장 실패!', {
                        body: `${consultationData.name}님의 신청이 저장되지 않았습니다.`,
                        requireInteraction: true
                    });
                }
                
                // 콘솔에 눈에 띄는 알림
                console.error(`
🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨
   상담신청 저장 실패!
   신청자: ${consultationData.name}
   연락처: ${consultationData.phone}
   즉시 수동으로 기록 필요!
🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨
                `);
                
                // 관리자 이메일 알림 (mailto)
                const subject = encodeURIComponent('[긴급] 상담신청 저장 실패');
                const body = encodeURIComponent(emergencyMessage);
                const mailtoLink = `mailto:admin@joycom.or.kr?subject=${subject}&body=${body}`;
                
                // 1초 후 이메일 앱 열기
                setTimeout(() => {
                    window.open(mailtoLink, '_blank');
                }, 1000);
                
            } catch (fallbackError) {
                console.error('폴백 처리도 실패:', fallbackError);
            }
        }

        // 실제 알림 발송 함수
        async function sendNotifications(applicationData) {
            try {
                console.log('🔔 알림 발송 시작:', applicationData.name);

                // 1. 신청자에게 즉시 확인 메시지 발송 ⭐ 새로 추가!
                await sendConfirmationToApplicant(applicationData);

                // 2. 관리자에게 즉시 실행 가능한 이메일 알림 (mailto 사용)
                await sendInstantEmailNotification(applicationData);

                // 3. 기존 알림 서비스 실행
                if (window.notificationService) {
                    const confirmResult = await window.notificationService.sendConfirmationToApplicant(applicationData);
                    console.log('신청자 알림 결과:', confirmResult);

                    const adminResult = await window.notificationService.sendNotificationToAdmin(applicationData);
                    console.log('관리자 알림 결과:', adminResult);
                }

                console.log('✅ 모든 알림 발송 완료');

            } catch (error) {
                console.error('❌ 알림 발송 중 오류:', error);
                
                // 폴백: 강력한 대안 알림
                await sendFallbackNotification(applicationData);
            }
        }

        // ⭐ 신청자에게 확인 메시지 발송 (새로 추가!)
        async function sendConfirmationToApplicant(data) {
            try {
                console.log('📧 신청자 확인 메시지 발송 시작:', data.name);

                // 1. EmailJS로 자동 확인 이메일 발송 (이메일이 있는 경우)
                if (data.email && emailjs) {
                    try {
                        const confirmationTemplate = {
                            to_name: data.name,
                            to_email: data.email,
                            consultation_type: getConsultationTypeLabel(data.consultationType),
                            consultation_method: getConsultationMethodLabel(data.consultationMethod),
                            preferred_date: data.preferredDate || '협의',
                            preferred_time: data.preferredTime || '협의',
                            phone: data.phone,
                            message: data.message || '상담 내용 없음',
                            application_time: new Date().toLocaleString('ko-KR'),
                            from_name: '조이상담코칭센터',
                            reply_to: 'admin@joycom.or.kr'
                        };

                        await emailjs.send('service_joycom', 'template_confirmation', confirmationTemplate);
                        console.log('✅ 신청자 확인 이메일 발송 성공');
                    } catch (emailError) {
                        console.log('EmailJS 실패, 대체 방법 사용');
                    }
                }

                // 2. 브라우저 알림으로 즉시 확인 (신청자용)
                showApplicantConfirmation(data);

                // 3. SMS 확인 메시지 (향후 구현)
                if (data.phone) {
                    await sendConfirmationSMS(data);
                }

                return { success: true, method: 'multiple' };

            } catch (error) {
                console.error('❌ 신청자 확인 메시지 발송 실패:', error);
                return { success: false, error: error.message };
            }
        }

        // 신청자를 위한 즉시 확인 표시
        function showApplicantConfirmation(data) {
            // 성공 메시지를 더 자세하고 친근하게 표시
            const confirmationMessage = `
🎉 ${data.name}님, 상담신청이 완료되었습니다!

📋 신청 내용:
• 상담유형: ${getConsultationTypeLabel(data.consultationType)}
• 상담방식: ${getConsultationMethodLabel(data.consultationMethod)}
• 연락처: ${data.phone}

⏰ 24시간 내에 전화나 문자로 연락드리겠습니다.
📞 급한 경우: 031-275-3636

감사합니다! 🌟
            `;

            // 기존 alert 대신 더 나은 확인 창 표시
            if (confirm(confirmationMessage + '\n\n확인하셨나요? (확인을 누르면 페이지가 새로고침됩니다)')) {
                // 페이지 새로고침으로 폼 초기화
                window.location.reload();
            }
        }

        // ⭐ SMS 확인 메시지 발송 (실제 구현)
        async function sendConfirmationSMS(data) {
            try {
                // 전화번호 정규화 (하이픈 제거, 국가코드 처리)
                const normalizedPhone = normalizePhoneNumber(data.phone);
                
                if (!normalizedPhone) {
                    console.log('❌ 유효하지 않은 전화번호:', data.phone);
                    return { success: false, error: 'Invalid phone number' };
                }

                // SMS 메시지 템플릿
                const smsMessage = createSMSTemplate(data);
                
                console.log('📱 SMS 발송 시작:', { to: normalizedPhone, name: data.name });

                // 1. CoolSMS API로 실제 발송 시도
                const coolSMSResult = await sendViaCoolSMS(normalizedPhone, smsMessage);
                if (coolSMSResult.success) {
                    console.log('✅ CoolSMS 발송 성공');
                    return coolSMSResult;
                }

                // 2. Firebase Cloud Functions로 백업 발송
                const firebaseResult = await sendViaFirebaseFunctions(normalizedPhone, smsMessage, data);
                if (firebaseResult.success) {
                    console.log('✅ Firebase Functions 발송 성공');
                    return firebaseResult;
                }

                // 3. 폴백: 시뮬레이션 모드
                console.log('📱 SMS 시뮬레이션 모드:', smsMessage);
                showSMSSimulation(normalizedPhone, smsMessage);
                
                return { success: true, method: 'simulation', message: smsMessage };

            } catch (error) {
                console.error('❌ SMS 발송 실패:', error);
                return { success: false, error: error.message };
            }
        }

        // 전화번호 정규화 함수
        function normalizePhoneNumber(phone) {
            if (!phone) return null;
            
            // 숫자만 추출
            let cleanPhone = phone.replace(/[^\d]/g, '');
            
            // 국가코드 처리
            if (cleanPhone.startsWith('82')) {
                cleanPhone = '0' + cleanPhone.substring(2);
            } else if (!cleanPhone.startsWith('0')) {
                cleanPhone = '0' + cleanPhone;
            }
            
            // 유효성 검사 (한국 전화번호)
            if (!/^(010|011|016|017|018|019)\d{7,8}$/.test(cleanPhone)) {
                return null;
            }
            
            return cleanPhone;
        }

        // SMS 메시지 템플릿 생성
        function createSMSTemplate(data) {
            const templates = {
                short: `[조이상담센터] ${data.name}님, 상담신청 완료! 24시간 내 연락드립니다. 문의: 031-275-3636`,
                
                detailed: `[조이상담센터] 
${data.name}님, 상담신청이 완료되었습니다!

📋 신청내용
- ${getConsultationTypeLabel(data.consultationType)}
- ${getConsultationMethodLabel(data.consultationMethod)}

📞 24시간 내 연락드리겠습니다
🚨 급한경우: 031-275-3636

감사합니다! 🌟`
            };

            // 메시지 길이에 따라 선택 (SMS: 90자, LMS: 2000자)
            return templates.detailed.length > 90 ? templates.detailed : templates.short;
        }

        // CoolSMS API 발송
        async function sendViaCoolSMS(to, message) {
            try {
                const coolSMSConfig = {
                    apiKey: 'YOUR_COOLSMS_API_KEY',        // 실제 키로 교체 필요
                    apiSecret: 'YOUR_COOLSMS_API_SECRET',  // 실제 키로 교체 필요
                    fromNumber: '031-275-3636'             // 발신번호 (등록 필요)
                };

                // CoolSMS API 호출 (브라우저에서는 CORS 제한으로 백엔드 필요)
                const response = await fetch('/api/send-sms', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        provider: 'coolsms',
                        to: to,
                        from: coolSMSConfig.fromNumber,
                        message: message,
                        config: coolSMSConfig
                    })
                });

                if (response.ok) {
                    const result = await response.json();
                    return { success: true, method: 'coolsms', data: result };
                }

                throw new Error('CoolSMS API 호출 실패');

            } catch (error) {
                console.log('CoolSMS 발송 실패, 백업 방법 시도:', error.message);
                return { success: false, error: error.message };
            }
        }

        // Firebase Cloud Functions로 SMS 발송
        async function sendViaFirebaseFunctions(to, message, data) {
            try {
                // Firebase Functions URL (실제 배포 후 URL로 변경)
                const functionsUrl = 'https://us-central1-joy-counseling-center.cloudfunctions.net/sendSMS';
                
                const response = await fetch(functionsUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        to: to,
                        message: message,
                        type: 'confirmation',
                        data: data
                    })
                });

                if (response.ok) {
                    const result = await response.json();
                    return { success: true, method: 'firebase', data: result };
                }

                throw new Error('Firebase Functions 호출 실패');

            } catch (error) {
                console.log('Firebase Functions 발송 실패:', error.message);
                return { success: false, error: error.message };
            }
        }

        // SMS 시뮬레이션 표시
        function showSMSSimulation(to, message) {
            // 개발자 콘솔에 SMS 내용 표시
            console.log(`
📱📱📱 SMS 발송 시뮬레이션 📱📱📱
받는사람: ${to}
내용: ${message}
📱📱📱📱📱📱📱📱📱📱📱📱📱📱📱
            `);

            // 실제 환경에서는 관리자에게 알림
            if (window.location.hostname !== 'localhost') {
                // 관리자에게 SMS 발송 알림
                const adminNotification = `🤖 SMS 자동발송 알림\n\n받는사람: ${to}\n내용: ${message}\n\n실제 SMS 설정 후 자동 발송됩니다.`;
                
                // 관리자 이메일로 알림 (mailto)
                const subject = encodeURIComponent('[SMS 발송 알림] 상담신청 자동 메시지');
                const body = encodeURIComponent(adminNotification);
                const mailtoLink = `mailto:admin@joycom.or.kr?subject=${subject}&body=${body}`;
                
                // 새 탭에서 이메일 앱 열기 (방해하지 않도록)
                setTimeout(() => {
                    window.open(mailtoLink, '_blank');
                }, 1000);
            }
        }

        // 관리자를 위한 즉시 실행 가능한 이메일 알림
        async function sendInstantEmailNotification(data) {
            try {
                // 관리자에게 즉시 이메일 발송 (사용자 기본 메일 앱 사용)
                const subject = encodeURIComponent(`[긴급] 새로운 상담신청 - ${data.name}`);
                const body = encodeURIComponent(`
🚨 새로운 상담신청이 접수되었습니다!

📋 신청자 정보:
• 이름: ${data.name}
• 연락처: ${data.phone}
• 이메일: ${data.email || '-'}
• 상담유형: ${getConsultationTypeLabel(data.consultationType)}
• 상담방식: ${getConsultationMethodLabel(data.consultationMethod)}
• 희망일시: ${data.preferredDate || '-'} ${data.preferredTime || ''}
• 상담내용: ${data.message || '-'}
• 신청시간: ${new Date().toLocaleString('ko-KR')}

⚠️ 24시간 내 연락 필수!

관리자 페이지: https://joycom.or.kr/admin.html
                `);

                // 기본 메일 앱으로 이메일 작성 (즉시 실행)
                const mailtoLink = `mailto:admin@joycom.or.kr?subject=${subject}&body=${body}`;
                
                // 새 창으로 메일 앱 열기
                window.open(mailtoLink, '_blank');
                
                console.log('📧 관리자 즉시 이메일 알림 실행됨');
                return { success: true, method: 'mailto' };

            } catch (error) {
                console.error('관리자 즉시 이메일 실패:', error);
                return { success: false };
            }
        }

        // 강력한 폴백 알림
        async function sendFallbackNotification(data) {
            try {
                // 1. 브라우저 알림 (권한 요청)
                if ('Notification' in window) {
                    const permission = await Notification.requestPermission();
                    if (permission === 'granted') {
                        new Notification('🚨 새로운 상담신청!', {
                            body: `${data.name}님의 상담신청이 접수되었습니다.`,
                            icon: '/favicon.ico',
                            requireInteraction: true
                        });
                    }
                }

                // 2. 로컬 스토리지에 알림 저장 (관리자 페이지에서 확인 가능)
                const notifications = JSON.parse(localStorage.getItem('pendingNotifications') || '[]');
                notifications.push({
                    id: Date.now(),
                    type: 'new_consultation',
                    data: data,
                    timestamp: new Date().toISOString(),
                    status: 'pending'
                });
                localStorage.setItem('pendingNotifications', JSON.stringify(notifications));

                // 3. 콘솔에 눈에 띄는 알림
                console.log(`
🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨
   새로운 상담신청 접수!
   신청자: ${data.name}
   연락처: ${data.phone}
   지금 즉시 전화 연락 필요!
🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨🚨
                `);

                // 4. 페이지 제목 깜빡임으로 주의 환기
                const originalTitle = document.title;
                let blinkCount = 0;
                const blinkInterval = setInterval(() => {
                    document.title = blinkCount % 2 === 0 ? '🚨 새 상담신청!' : originalTitle;
                    blinkCount++;
                    if (blinkCount > 10) {
                        clearInterval(blinkInterval);
                        document.title = originalTitle;
                    }
                }, 1000);

                return { success: true, method: 'fallback' };

            } catch (error) {
                console.error('폴백 알림 실패:', error);
                return { success: false };
            }
        }

        function getConsultationMethodLabel(method) {
            const labels = {
                'offline': '대면상담',
                'phone': '전화상담', 
                'online': '온라인상담'
            };
            return labels[method] || method;
        }

        // 상담 유형 라벨 변환
        function getConsultationTypeLabel(type) {
            const labels = {
                'individual': '개인상담',
                'couple': '부부·가족상담',
                'child': '아동·청소년 상담',
                'art': '사진/미술 치료',
                'affair': '외도상담',
                'petloss': '펫로스 상담'
            };
            return labels[type] || type;
        }

        // 데이터 유효성 검증 함수
        function validateConsultationData(data) {
            const errors = [];

            // 필수 필드 검증
            if (!data.name?.trim()) {
                errors.push('이름을 입력해주세요.');
            }

            if (!data.phone?.trim()) {
                errors.push('연락처를 입력해주세요.');
            } else if (!/^[0-9-+\s()]+$/.test(data.phone)) {
                errors.push('올바른 전화번호 형식을 입력해주세요.');
            }

            if (!data.consultationType) {
                errors.push('상담 유형을 선택해주세요.');
            }

            if (!data.consultationMethod) {
                errors.push('상담 방식을 선택해주세요.');
            }

            // 이메일 유효성 검증 (선택사항)
            if (data.email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email)) {
                errors.push('올바른 이메일 형식을 입력해주세요.');
            }

            if (!data.privacyConsent) {
                errors.push('개인정보 수집 및 이용에 동의해주세요.');
            }

            return {
                isValid: errors.length === 0,
                errors: errors
            };
        }

        // Form submission with improved error handling
        document.getElementById('consultationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            console.log('📝 상담신청 폼 제출 시작...');
            
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            console.log('📋 폼 데이터:', data);
            
            // 데이터 유효성 검증
            const validation = validateConsultationData(data);
            if (!validation.isValid) {
                console.error('❌ 데이터 유효성 검증 실패:', validation.errors);
                alert('다음 항목을 확인해주세요:\n\n' + validation.errors.join('\n'));
                return;
            }
            
            console.log('✅ 데이터 유효성 검증 통과');

            // 제출 버튼 상태 변경
            const submitBtn = this.querySelector('.submit-btn');
            const originalText = submitBtn.innerHTML;
            
            submitBtn.innerHTML = `
                <div style="display: inline-flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 16px; height: 16px; border: 2px solid #fff; border-top: 2px solid transparent; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                    신청 처리 중...
                </div>
            `;
            submitBtn.disabled = true;

            try {
                console.log('🔄 Firebase 저장 시도 중...');
                
                // Firebase에 데이터 저장
                const result = await saveConsultationToFirebase(data);

                if (result.success) {
                    console.log('✅ 상담신청 완료:', result.id);
                    
                    // 성공 메시지 표시
                    const successMessage = `
🎉 ${data.name}님, 상담신청이 완료되었습니다!

📋 신청 정보:
• 신청 ID: ${result.id}
• 상담 유형: ${getConsultationTypeLabel(data.consultationType)}
• 상담 방식: ${getConsultationMethodLabel(data.consultationMethod)}
• 연락처: ${data.phone}

⏰ 24시간 내에 담당자가 연락드리겠습니다.
📞 급한 경우: 031-275-3636

감사합니다! 🌟
                    `;
                    
                    alert(successMessage);
                    this.reset(); // 폼 초기화
                    
                    // 페이지 상단으로 스크롤
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    
                } else {
                    console.error('❌ 저장 실패:', result.message);
                    
                    const errorMessage = `
신청 처리 중 문제가 발생했습니다.

오류: ${result.message}

📞 직접 전화 연락 부탁드립니다:
031-275-3636

불편을 드려 죄송합니다.
                    `;
                    
                    alert(errorMessage);
                }

            } catch (error) {
                console.error('❌ 폼 제출 중 예상치 못한 오류:', error);
                
                const networkErrorMessage = `
네트워크 연결 오류가 발생했습니다.

가능한 해결 방법:
1. 인터넷 연결을 확인해주세요
2. 페이지를 새로고침 후 다시 시도해주세요
3. 브라우저 캐시를 삭제해보세요

📞 문제가 계속되면 직접 전화주세요:
031-275-3636
                `;
                
                alert(networkErrorMessage);
                
            } finally {
                // 버튼 상태 복원
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                console.log('🔄 폼 제출 처리 완료');
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add spin animation for loading
        const style = document.createElement('style');
        style.textContent = `
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);

        // 후기 게시판 시스템 초기화
        function initializeReviewSystem() {
            console.log('📝 후기 게시판 시스템 초기화 중...');
            
            // 후기 관련 요소들
            const writeReviewSection = document.getElementById('writeReviewSection');
            const writeReviewBtn = document.getElementById('writeReviewBtn');
            const loginPrompt = document.getElementById('loginPrompt');
            const loginForReviewBtn = document.getElementById('loginForReview');
            const cancelReviewBtn = document.getElementById('cancelReview');
            const reviewForm = document.getElementById('reviewForm');
            const reviewContent = document.getElementById('reviewContent');
            const charCount = document.getElementById('charCount');
            const reviewsList = document.getElementById('reviewsList');
            const reviewCount = document.getElementById('reviewCount');
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            const loadMoreContainer = document.querySelector('.load-more-container');

            let currentPage = 0;
            const REVIEWS_PER_PAGE = 5;

            // 후기 작성 버튼 클릭
            writeReviewBtn?.addEventListener('click', () => {
                writeReviewSection.style.display = 'block';
                reviewForm.reset();
                updateCharCount();
                document.getElementById('reviewTitle').focus();
            });

            // 로그인 유도 버튼 클릭
            loginForReviewBtn?.addEventListener('click', () => {
                const authModal = document.getElementById('authModal');
                const modalTitle = document.getElementById('modalTitle');
                const loginForm = document.getElementById('loginForm');
                const signupForm = document.getElementById('signupForm');
                
                if (authModal && modalTitle && loginForm && signupForm) {
                    modalTitle.textContent = '로그인';
                    loginForm.style.display = 'block';
                    signupForm.style.display = 'none';
                    authModal.style.display = 'flex';
                    document.getElementById('loginEmail')?.focus();
                }
            });

            // 후기 작성 취소
            cancelReviewBtn?.addEventListener('click', () => {
                writeReviewSection.style.display = 'none';
                reviewForm.reset();
            });

            // 글자 수 카운터
            reviewContent?.addEventListener('input', updateCharCount);

            function updateCharCount() {
                const current = reviewContent.value.length;
                charCount.textContent = current;
                
                if (current > 900) {
                    charCount.style.color = '#dc2626';
                } else if (current > 800) {
                    charCount.style.color = '#f59e0b';
                } else {
                    charCount.style.color = '#6b7280';
                }
            }

            // 후기 폼 제출
            reviewForm?.addEventListener('submit', async (e) => {
                e.preventDefault();
                await submitReview();
            });

            // ⭐ 별점 시스템 초기화
            console.log('⭐ 별점 시스템 초기화 중...');
            initializeStarRating();

            // 후기 제출 함수
            async function submitReview() {
                console.log('📝 후기 제출 시작...');
                
                const user = auth.currentUser;
                console.log('👤 현재 사용자:', user ? `${user.email} (${user.uid})` : '로그인되지 않음');
                
                if (!user) {
                    console.error('❌ 로그인 필요');
                    alert('로그인이 필요합니다.');
                    return;
                }

                const title = document.getElementById('reviewTitle').value.trim();
                const content = document.getElementById('reviewContent').value.trim();
                const rating = document.querySelector('input[name="rating"]:checked')?.value;
                const submitBtn = document.querySelector('#reviewForm .submit-btn');

                console.log('📋 입력 데이터:', { 
                    title: title, 
                    contentLength: content.length, 
                    rating: rating 
                });

                if (!title || !content || !rating) {
                    console.error('❌ 필수 항목 누락');
                    alert('모든 필수 항목을 입력해주세요.');
                    return;
                }

                try {
                    submitBtn.disabled = true;
                    submitBtn.textContent = '등록 중...';
                    
                    console.log('🔄 Firebase 연결 상태 확인...');
                    console.log('- Firebase Auth:', auth ? '✅ 연결됨' : '❌ 연결 안됨');
                    console.log('- Firestore:', db ? '✅ 연결됨' : '❌ 연결 안됨');

                    const reviewData = {
                        title: title,
                        content: content,
                        rating: parseInt(rating),
                        authorId: user.uid,
                        authorName: user.displayName || user.email.split('@')[0],
                        authorEmail: user.email,
                        createdAt: serverTimestamp(),
                        updatedAt: serverTimestamp(),
                        status: 'published'
                    };

                    console.log('💾 Firestore에 저장할 데이터:', {
                        ...reviewData,
                        createdAt: '[ServerTimestamp]',
                        updatedAt: '[ServerTimestamp]'
                    });

                    console.log('📤 Firestore에 데이터 저장 중...');
                    const docRef = await addDoc(collection(db, 'reviews'), reviewData);
                    console.log('✅ 후기 등록 성공! 문서 ID:', docRef.id);

                    alert('후기가 성공적으로 등록되었습니다!');
                    
                    // 폼 초기화 및 숨기기
                    reviewForm.reset();
                    writeReviewSection.style.display = 'none';
                    
                    // 후기 목록 새로고침
                    console.log('🔄 후기 목록 새로고침...');
                    await loadReviews(true);

                } catch (error) {
                    console.error('❌ 후기 등록 오류 상세 정보:');
                    console.error('- Error Code:', error.code);
                    console.error('- Error Message:', error.message);
                    console.error('- Full Error:', error);
                    
                    let errorMessage = '후기 등록 중 오류가 발생했습니다.';
                    
                    switch (error.code) {
                        case 'permission-denied':
                            errorMessage = '권한이 없습니다. 로그인 상태를 확인해주세요.';
                            break;
                        case 'unauthenticated':
                            errorMessage = '로그인이 필요합니다.';
                            break;
                        case 'failed-precondition':
                            errorMessage = 'Firestore 규칙 검증에 실패했습니다.';
                            break;
                        case 'unavailable':
                            errorMessage = '네트워크 연결을 확인해주세요.';
                            break;
                        default:
                            errorMessage += ` (${error.code || '알 수 없는 오류'})`;
                    }
                    
                    alert(errorMessage);
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = '후기 등록';
                }
            }

            // 후기 목록 로드
            async function loadReviews(reset = false) {
                try {
                    if (reset) {
                        currentPage = 0;
                        reviewsList.innerHTML = '<div class="loading-message">후기를 불러오는 중...</div>';
                    }

                    const reviewsQuery = query(
                        collection(db, 'reviews'),
                        orderBy('createdAt', 'desc'),
                        limit(REVIEWS_PER_PAGE)
                    );

                    const querySnapshot = await getDocs(reviewsQuery);
                    const reviews = [];

                    querySnapshot.forEach((doc) => {
                        reviews.push({
                            id: doc.id,
                            ...doc.data()
                        });
                    });

                    if (reset) {
                        reviewsList.innerHTML = '';
                    }

                    if (reviews.length === 0 && currentPage === 0) {
                        reviewsList.innerHTML = `
                            <div class="empty-message">
                                <p>아직 등록된 후기가 없습니다.</p>
                                <p>첫 번째 후기를 작성해보세요! 🌟</p>
                            </div>
                        `;
                        reviewCount.textContent = '0';
                        loadMoreContainer.style.display = 'none';
                        return;
                    }

                    reviews.forEach(review => {
                        const reviewElement = createReviewElement(review);
                        reviewsList.appendChild(reviewElement);
                    });

                    // 후기 수 업데이트
                    const totalQuery = query(collection(db, 'reviews'));
                    const totalSnapshot = await getDocs(totalQuery);
                    reviewCount.textContent = totalSnapshot.size;

                    // 더보기 버튼 표시/숨김
                    if (reviews.length === REVIEWS_PER_PAGE) {
                        loadMoreContainer.style.display = 'block';
                    } else {
                        loadMoreContainer.style.display = 'none';
                    }

                } catch (error) {
                    console.error('후기 로드 오류:', error);
                    reviewsList.innerHTML = `
                        <div class="empty-message">
                            <p>후기를 불러오는 중 오류가 발생했습니다.</p>
                            <button onclick="loadReviews(true)" class="link-btn">다시 시도</button>
                        </div>
                    `;
                }
            }

            // 후기 아이템 생성
            function createReviewElement(review) {
                const reviewDiv = document.createElement('div');
                reviewDiv.className = 'review-item';
                reviewDiv.dataset.reviewId = review.id;

                const createdAt = review.createdAt?.toDate ? 
                    review.createdAt.toDate() : 
                    new Date(review.createdAt);
                
                const formattedDate = createdAt.toLocaleDateString('ko-KR', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });

                const stars = '⭐'.repeat(review.rating);
                const authorInitial = review.authorName.charAt(0).toUpperCase();
                const currentUser = auth.currentUser;
                const isAuthor = currentUser && currentUser.uid === review.authorId;

                reviewDiv.innerHTML = `
                    <div class="review-header">
                        <div class="review-author">
                            <div class="author-avatar">${authorInitial}</div>
                            <div class="author-info">
                                <h4>${review.authorName}</h4>
                                <div class="review-date">${formattedDate}</div>
                            </div>
                        </div>
                        <div class="review-rating">${stars}</div>
                    </div>
                    <h3 class="review-title">${review.title}</h3>
                    <div class="review-content">${review.content}</div>
                    ${isAuthor ? `
                        <div class="review-actions">
                            <button class="action-btn edit" onclick="editReview('${review.id}')">수정</button>
                            <button class="action-btn delete" onclick="deleteReview('${review.id}')">삭제</button>
                        </div>
                    ` : ''}
                `;

                return reviewDiv;
            }

            // 더보기 버튼
            loadMoreBtn?.addEventListener('click', async () => {
                currentPage++;
                await loadReviews();
            });

            // 후기 수정 (전역 함수)
            window.editReview = async function(reviewId) {
                alert('수정 기능은 곧 업데이트 예정입니다.');
            };

            // 후기 삭제 (전역 함수)
            window.deleteReview = async function(reviewId) {
                console.log('🗑️ 후기 삭제 시작:', reviewId);
                
                const user = auth.currentUser;
                console.log('👤 현재 사용자:', user ? `${user.email} (${user.uid})` : '로그인되지 않음');
                
                if (!user) {
                    console.error('❌ 로그인 필요');
                    alert('로그인이 필요합니다.');
                    return;
                }

                if (!confirm('정말 이 후기를 삭제하시겠습니까?\n삭제된 후기는 복구할 수 없습니다.')) {
                    console.log('👤 사용자가 삭제 취소');
                    return;
                }

                try {
                    console.log('🔄 Firebase 연결 상태 확인...');
                    console.log('- Firestore:', db ? '✅ 연결됨' : '❌ 연결 안됨');
                    console.log('- deleteDoc 함수:', deleteDoc ? '✅ 사용 가능' : '❌ 사용 불가');

                    console.log('🗑️ Firestore에서 후기 삭제 중...');
                    
                    const reviewRef = doc(db, 'reviews', reviewId);
                    await deleteDoc(reviewRef);
                    
                    console.log('✅ 후기 삭제 성공! 문서 ID:', reviewId);
                    alert('후기가 성공적으로 삭제되었습니다.');
                    
                    await loadReviews(true);

                } catch (error) {
                    console.error('❌ 후기 삭제 오류 상세 정보:');
                    console.error('- Error Code:', error.code);
                    console.error('- Error Message:', error.message);
                    console.error('- Full Error:', error);
                    
                    let errorMessage = '후기 삭제 중 오류가 발생했습니다.';
                    
                    switch (error.code) {
                        case 'permission-denied':
                            errorMessage = '권한이 없습니다. 본인이 작성한 후기만 삭제할 수 있습니다.';
                            break;
                        case 'not-found':
                            errorMessage = '삭제하려는 후기를 찾을 수 없습니다.';
                            break;
                        case 'unauthenticated':
                            errorMessage = '로그인이 필요합니다.';
                            break;
                        case 'unavailable':
                            errorMessage = '네트워크 연결을 확인해주세요.';
                            break;
                        default:
                            errorMessage += ` (${error.code || '알 수 없는 오류'})`;
                    }
                    
                    alert(errorMessage);
                }
            };

            // 페이지 로드시 후기 목록 로드
            loadReviews(true);

            // ⭐ 별점 시스템 함수들
            function initializeStarRating() {
                const starRating = document.getElementById('starRating');
                const ratingText = document.getElementById('ratingText');
                
                if (!starRating || !ratingText) {
                    console.log('⭐ 별점 요소를 찾을 수 없습니다');
                    return;
                }

                const labels = starRating.querySelectorAll('label');
                const inputs = starRating.querySelectorAll('input[type="radio"]');

                console.log('⭐ 별점 요소 개수:', labels.length);

                const ratingTexts = {
                    1: '⭐ 매우 불만족',
                    2: '⭐⭐ 불만족',  
                    3: '⭐⭐⭐ 보통',
                    4: '⭐⭐⭐⭐ 만족',
                    5: '⭐⭐⭐⭐⭐ 매우 만족'
                };

                labels.forEach((label, index) => {
                    const rating = parseInt(label.getAttribute('data-rating'));
                    
                    label.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log(`⭐ ${rating}점 선택됨`);
                        
                        const targetInput = document.getElementById(`star${rating}`);
                        if (targetInput) {
                            targetInput.checked = true;
                        }
                        
                        updateStarDisplay(rating);
                        ratingText.textContent = ratingTexts[rating];
                        ratingText.style.color = '#f59e0b';
                        ratingText.style.fontWeight = '600';
                    });

                    label.addEventListener('mouseenter', function() {
                        previewStarRating(rating);
                    });
                });

                starRating.addEventListener('mouseleave', function() {
                    const checkedInput = starRating.querySelector('input:checked');
                    if (checkedInput) {
                        updateStarDisplay(parseInt(checkedInput.value));
                    } else {
                        resetStarDisplay();
                    }
                });

                console.log('⭐ 별점 시스템 초기화 완료');
            }

            function updateStarDisplay(rating) {
                const labels = document.querySelectorAll('#starRating label');
                
                labels.forEach((label, index) => {
                    const starValue = parseInt(label.getAttribute('data-rating'));
                    
                    if (starValue <= rating) {
                        label.style.color = '#f59e0b';
                        label.classList.add('active');
                    } else {
                        label.style.color = '#d1d5db';
                        label.classList.remove('active');
                    }
                });
            }

            function previewStarRating(rating) {
                const labels = document.querySelectorAll('#starRating label');
                
                labels.forEach((label, index) => {
                    const starValue = parseInt(label.getAttribute('data-rating'));
                    
                    if (starValue <= rating) {
                        label.style.color = '#fbbf24';
                    } else {
                        label.style.color = '#d1d5db';
                    }
                });
            }

            function resetStarDisplay() {
                const labels = document.querySelectorAll('#starRating label');
                labels.forEach(label => {
                    label.style.color = '#d1d5db';
                    label.classList.remove('active');
                });
                
                document.getElementById('ratingText').textContent = '';
            }
        }

        // 데이터베이스 연결 테스트 함수
        async function testDatabaseConnection() {
            console.log('🧪 데이터베이스 연결 테스트 시작...');
            
            try {
                if (!window.firebaseInitialized) {
                    throw new Error('Firebase가 초기화되지 않았습니다.');
                }

                // 1. Firestore 연결 테스트
                console.log('🔗 Firestore 연결 테스트 중...');
                const testDoc = {
                    test: true,
                    timestamp: window.serverTimestamp(),
                    userAgent: navigator.userAgent,
                    url: window.location.href
                };

                const docRef = await window.addDoc(window.collection(window.db, 'connection_tests'), testDoc);
                console.log('✅ Firestore 쓰기 테스트 성공:', docRef.id);

                // 2. Firestore 읽기 테스트
                const querySnapshot = await window.getDocs(
                    window.query(
                        window.collection(window.db, 'connection_tests'), 
                        window.orderBy('timestamp', 'desc'), 
                        window.limit(1)
                    )
                );

                if (!querySnapshot.empty) {
                    console.log('✅ Firestore 읽기 테스트 성공');
                    
                    // 테스트 문서 삭제 (정리)
                    await window.deleteDoc(window.doc(window.db, 'connection_tests', docRef.id));
                    console.log('🧹 테스트 문서 정리 완료');
                } else {
                    console.warn('⚠️ Firestore 읽기 테스트에서 데이터를 찾을 수 없음');
                }

                // 3. 인증 연결 테스트
                console.log('🔐 Firebase Auth 연결 테스트 중...');
                const currentUser = window.auth.currentUser;
                console.log('👤 현재 사용자:', currentUser ? `로그인됨 (${currentUser.email})` : '로그아웃됨');

                console.log('🎉 모든 데이터베이스 연결 테스트 통과!');
                return { success: true, message: '데이터베이스 연결이 정상적으로 작동합니다.' };

            } catch (error) {
                console.error('❌ 데이터베이스 연결 테스트 실패:', error);
                return { 
                    success: false, 
                    error: error.message,
                    message: '데이터베이스 연결에 문제가 있습니다.' 
                };
            }
        }

        // 개발자 도구용 전역 함수
        window.testConnection = testDatabaseConnection;
        window.debugFirebase = function() {
            console.log('🐛 Firebase 디버그 정보:');
            console.log('- Firebase 초기화됨:', window.firebaseInitialized);
            console.log('- Firestore:', window.db ? '✅ 연결됨' : '❌ 연결 안됨');
            console.log('- Auth:', window.auth ? '✅ 연결됨' : '❌ 연결 안됨');
            console.log('- 현재 사용자:', window.auth?.currentUser?.email || '로그인되지 않음');
            console.log('- EmailJS 설정됨:', window.emailjsConfigured);
            console.log('- 저장된 실패한 상담신청:', localStorage.getItem('failedConsultations'));
            
            // 연결 테스트 실행
            testDatabaseConnection();
        };

        // 상담신청과 데이터베이스연동에 문제가 있는 것 같으니 오류를 찾아서 수정해줘
        // 사용자가 호출할 수 있는 문제 해결 함수
        window.fixDatabaseIssues = async function() {
            console.log('🔧 데이터베이스 문제 해결 시도 중...');
            
            try {
                // 1. Firebase 재초기화 시도
                if (!window.firebaseInitialized) {
                    console.log('🔄 Firebase 재초기화 시도...');
                    window.location.reload();
                    return;
                }

                // 2. 연결 테스트
                const testResult = await testDatabaseConnection();
                if (testResult.success) {
                    alert('✅ 데이터베이스 연결이 정상입니다!\n\n문제가 지속되면 브라우저를 새로고침 해보세요.');
                    return;
                }

                // 3. 로컬에 저장된 실패한 신청 확인
                const failedSubmissions = localStorage.getItem('failedConsultations');
                if (failedSubmissions) {
                    const failed = JSON.parse(failedSubmissions);
                    if (failed.length > 0) {
                        const message = `⚠️ 저장되지 않은 상담신청이 ${failed.length}개 있습니다.\n\n` +
                                      '관리자에게 연락하여 수동으로 접수 처리해주세요.\n' +
                                      '📞 031-275-3636';
                        alert(message);
                        console.log('실패한 신청들:', failed);
                    }
                }

                // 4. 브라우저 호환성 확인
                const compatibility = checkBrowserCompatibility();
                if (!compatibility.compatible) {
                    alert('❌ 브라우저 호환성 문제:\n\n' + compatibility.issues.join('\n') + 
                          '\n\n최신 Chrome, Firefox, Safari, Edge 브라우저를 사용해주세요.');
                    return;
                }

                alert('🔧 일반적인 해결 방법:\n\n' +
                      '1. 페이지 새로고침 (F5 또는 Ctrl+R)\n' +
                      '2. 브라우저 캐시 삭제\n' +
                      '3. 다른 브라우저로 시도\n' +
                      '4. 인터넷 연결 확인\n\n' +
                      '📞 문제가 계속되면 전화주세요: 031-275-3636');

            } catch (error) {
                console.error('문제 해결 중 오류:', error);
                alert('❌ 문제 해결 중 오류가 발생했습니다.\n\n📞 직접 전화주세요: 031-275-3636');
            }
        };

        // 브라우저 호환성 확인
        function checkBrowserCompatibility() {
            const issues = [];
            let compatible = true;

            // ES6 지원 확인
            try {
                eval('const test = () => {};');
            } catch (e) {
                issues.push('ES6 문법을 지원하지 않는 구버전 브라우저입니다.');
                compatible = false;
            }

            // Fetch API 확인
            if (!window.fetch) {
                issues.push('Fetch API를 지원하지 않습니다.');
                compatible = false;
            }

            // IndexedDB 확인 (Firebase에서 사용)
            if (!window.indexedDB) {
                issues.push('IndexedDB를 지원하지 않습니다.');
                compatible = false;
            }

            return { compatible, issues };
        }

        // 페이지 로드 완료 후 자동 테스트 실행
        document.addEventListener('DOMContentLoaded', function() {
            console.log('📱 페이지 로드 완료 - 자동 진단 시작...');
            
            // 3초 후 자동 테스트 (Firebase 초기화 대기)
            setTimeout(async () => {
                if (window.firebaseInitialized) {
                    console.log('🎯 자동 데이터베이스 연결 테스트 실행...');
                    const result = await testDatabaseConnection();
                    
                    if (result.success) {
                        console.log('✅ 자동 진단 완료: 모든 시스템 정상');
                    } else {
                        console.error('⚠️ 자동 진단에서 문제 발견:', result.message);
                        
                        // 사용자에게 조용히 알림 (개발자 콘솔에서만)
                        console.log('💡 문제 해결을 위해 개발자 도구에서 window.fixDatabaseIssues() 호출');
                    }
                } else {
                    console.error('❌ Firebase 초기화 실패로 자동 테스트 건너뜀');
                }
            }, 3000);
        });
    </script>

    <!-- 로그인/회원가입 모달 -->
    <div id="authModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">로그인</h2>
                <span class="close">&times;</span>
            </div>
            
            <!-- 로그인 폼 -->
            <div id="loginForm" class="auth-form">
                <form id="loginFormElement">
                    <div class="form-group">
                        <label for="loginEmail">이메일</label>
                        <input type="email" id="loginEmail" required placeholder="이메일을 입력하세요">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">비밀번호</label>
                        <input type="password" id="loginPassword" required placeholder="비밀번호를 입력하세요">
                    </div>
                    <button type="submit" class="auth-submit-btn">로그인</button>
                </form>
                <div class="auth-footer">
                    <p>계정이 없으신가요? <a href="#" id="showSignup">회원가입</a></p>
                </div>
            </div>

            <!-- 회원가입 폼 -->
            <div id="signupForm" class="auth-form" style="display: none;">
                <form id="signupFormElement">
                    <div class="form-group">
                        <label for="signupName">이름</label>
                        <input type="text" id="signupName" required placeholder="이름을 입력하세요">
                    </div>
                    <div class="form-group">
                        <label for="signupEmail">이메일</label>
                        <input type="email" id="signupEmail" required placeholder="이메일을 입력하세요">
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">비밀번호</label>
                        <input type="password" id="signupPassword" required placeholder="비밀번호를 입력하세요 (6자 이상)">
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">비밀번호 확인</label>
                        <input type="password" id="confirmPassword" required placeholder="비밀번호를 다시 입력하세요">
                    </div>
                    <button type="submit" class="auth-submit-btn">회원가입</button>
                </form>
                <div class="auth-footer">
                    <p>이미 계정이 있으신가요? <a href="#" id="showLogin">로그인</a></p>
                </div>
            </div>
        </div>
    </div>

    <style>
        /* 모달 스타일 */
        .modal {
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 0;
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .modal-header h2 {
            margin: 0;
            color: #1f2937;
            font-size: 1.5rem;
        }

        .close {
            color: #9ca3af;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }

        .close:hover {
            color: #374151;
        }

        .auth-form {
            padding: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #374151;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s;
            box-sizing: border-box;
        }

        .form-group input:focus {
            outline: none;
            border-color: #66C6C6;
            box-shadow: 0 0 0 3px rgba(102, 198, 198, 0.1);
        }

        .auth-submit-btn {
            width: 100%;
            background: #66C6C6;
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 1rem;
        }

        .auth-submit-btn:hover {
            background: #50B0B0;
        }

        .auth-submit-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .auth-footer {
            text-align: center;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid #f3f4f6;
        }

        .auth-footer p {
            color: #6b7280;
            margin: 0;
        }

        .auth-footer a {
            color: #66C6C6;
            text-decoration: none;
            font-weight: 500;
        }

        .auth-footer a:hover {
            text-decoration: underline;
        }
    </style>

</body>
</html>
</html>