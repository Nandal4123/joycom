# 📱 CoolSMS 설정 가이드 - 상담신청 자동 SMS 발송

## 🎯 목표
상담신청 후 신청자에게 **자동으로 SMS 확인 메시지**를 보내는 시스템 구축

---

## 🚀 1단계: CoolSMS 회원가입

### **CoolSMS 사이트 접속**
```
🌐 사이트: https://www.coolsms.co.kr/
👆 "회원가입" 클릭
```

### **계정 생성**
```
📧 이메일: admin@joycom.or.kr (또는 개인 이메일)
🔐 비밀번호: 안전한 비밀번호 설정
📞 휴대폰: 실제 사용하는 번호 (인증 필요)
✅ 이메일 + 휴대폰 인증 완료
```

---

## 💳 2단계: 요금제 선택

### **추천 요금제**
```
📊 스타터 요금제 (추천):
- 월 1,000원 (VAT 별도)
- SMS 100건 제공
- 초과분: 건당 22원

💡 조이상담센터용으로 충분합니다!
```

### **결제 방법**
```
💳 지원 결제:
- 신용카드
- 계좌이체
- 무통장입금

⚠️ 충전금 방식: 먼저 충전 후 사용
```

---

## 🔑 3단계: API 키 발급

### **발신번호 등록**
```
📞 중요: SMS 발송 전 발신번호 등록 필수!

📋 등록 절차:
1. CoolSMS 콘솔 → "발신번호 관리"
2. "발신번호 추가" 클릭
3. 031-275-3636 입력 (조이상담센터 번호)
4. 승인 대기 (1-2일 소요)

⚠️ 승인 전까지는 테스트 발송만 가능
```

### **API 키 생성**
```
📋 단계:
1. 콘솔 → "API Key 관리"
2. "새 API Key 생성" 클릭
3. 이름: "조이상담센터_자동SMS"
4. API Key와 API Secret 복사
```

### **API 키 예시**
```
🔐 API Key: NCSR0LRXYTGWAWXY
🔑 API Secret: XT5YSSGLHJQZFGWYPBQZRZPQFQ

⚠️ 중요: 절대 공개하지 말고 안전하게 보관!
```

---

## 💻 4단계: Firebase Functions 설정

### **환경 변수 설정**
```bash
# Firebase CLI로 환경 변수 설정
firebase functions:config:set coolsms.api_key="NCSR0LRXYTGWAWXY"
firebase functions:config:set coolsms.api_secret="XT5YSSGLHJQZFGWYPBQZRZPQFQ"

# 설정 확인
firebase functions:config:get
```

### **발신번호 설정**
```javascript
// functions/index.js에서 수정
const COOLSMS_CONFIG = {
    apiKey: functions.config().coolsms?.api_key,
    apiSecret: functions.config().coolsms?.api_secret,
    from: '031-275-3636'  // 등록된 발신번호
};
```

---

## 🧪 5단계: 테스트

### **테스트 SMS 발송**
```javascript
// 콘솔에서 테스트
const testSMS = {
    to: '010-1234-5678',  // 본인 번호로 테스트
    message: '[조이상담센터] SMS 테스트입니다.'
};

// Firebase Functions 호출
```

### **실제 상담신청 테스트**
```
🎯 전체 플로우 테스트:
1. joycom.or.kr 접속
2. 상담신청 폼 작성 (본인 번호 입력)
3. 신청 완료
4. SMS 수신 확인 ✅

📱 확인 사항:
- 발신번호가 031-275-3636으로 표시
- 메시지 내용 정확성
- 발송 시간 (즉시 도착)
```

---

## 📊 6단계: 발송 내역 관리

### **발송 통계 확인**
```
📈 CoolSMS 콘솔에서 확인:
- 일별/월별 발송 건수
- 성공/실패 비율
- 잔여 SMS 건수
- 요금 사용 현황
```

### **자동 충전 설정**
```
💳 자동충전 권장:
- 최소 잔액: 10,000원
- 자동충전 금액: 20,000원
- 결제 방법: 등록된 카드

💡 SMS 부족으로 중단 방지!
```

---

## 🚨 문제해결

### **SMS가 안 와요!**
```
🔍 체크리스트:
☐ API Key/Secret 정확한가요?
☐ 발신번호 승인 완료됐나요?
☐ CoolSMS 잔액 충분한가요?
☐ 수신번호 형식 맞나요? (010-XXXX-XXXX)
☐ Firebase Functions 배포됐나요?
```

### **오류 메시지별 해결**
```
❌ "Invalid API Key"
   → API Key 다시 확인

❌ "Sender number not verified"
   → 발신번호 승인 대기 중

❌ "Insufficient balance"
   → CoolSMS 계정 충전 필요

❌ "Invalid phone number"
   → 수신번호 형식 확인 (하이픈 포함/제외)
```

---

## 💰 요금 안내

### **기본 요금**
```
📊 CoolSMS 요금:
- SMS (90자 이하): 22원/건
- LMS (장문): 55원/건
- 발신번호 등록: 무료
- 월 기본료: 1,100원 (VAT 포함)

💡 월 50건 기준: 약 2,200원
```

### **예상 월 비용**
```
📈 조이상담센터 예상:
- 상담신청: 30건/월
- 관리자 알림: 30건/월
- 예약 확정: 25건/월
- 총 85건/월

💰 예상 비용:
- SMS 요금: 85 × 22원 = 1,870원
- 월 기본료: 1,100원
- 총합: 약 3,000원/월
```

---

## ⚡ 고급 기능

### **예약 발송**
```
⏰ 특정 시간에 발송:
- 상담 전날 리마인더
- 주간/월간 통계 리포트
- 연휴 안내 메시지

📅 예시: 매주 월요일 오전 9시 주간 리포트
```

### **템플릿 관리**
```
📝 메시지 템플릿:
- 상담신청 확인
- 예약 확정 알림
- 취소/변경 안내
- 만족도 조사

💡 일관된 브랜딩과 효율성!
```

---

## 🔐 보안 주의사항

### **API 키 보안**
```
⚠️ 중요:
- API Secret은 절대 브라우저 코드에 포함 금지
- Firebase Functions 환경 변수만 사용
- 정기적으로 키 갱신 권장
- 개발/운영 환경 분리
```

### **스팸 방지**
```
📱 발송 제한:
- 동일 번호 연속 발송 제한
- 일일 발송량 모니터링
- 수신거부 기능 구현 고려
```

---

## 🎯 다음 단계

1. **카카오 알림톡** 연동 (더 저렴)
2. **대량 발송** 시스템 (이벤트용)
3. **수신거부** 관리 시스템
4. **발송 통계** 대시보드

---

## 📞 고객지원

### **CoolSMS 지원**
```
📞 전화: 070-7607-7445
📧 이메일: support@coolsms.co.kr
💬 채팅: 홈페이지 우하단
📚 문서: https://docs.coolsms.co.kr/
```

### **문제 발생 시**
```
🆘 개발 관련 문의:
- 상세한 오류 메시지 첨부
- 발송 시도 시간 기록
- API 호출 로그 확인

💡 대부분 발신번호 미승인이 원인!
```

---

## ✨ 완료 후 혜택

### **신청자 혜택**
```
✅ 즉시 신청 확인 (100% 도달)
✅ 24시간 연락 약속
✅ 급한 상황 연락처 제공
✅ 전문적인 서비스 인상
```

### **관리자 혜택**
```
✅ 완전 자동화된 확인 시스템
✅ 놓친 신청 없음
✅ 고객 만족도 증가
✅ 업무 효율성 극대화
```

---

## 🎉 성공 사례

```
📈 SMS 도입 후 개선사항:
- 고객 문의 70% 감소
- 상담 예약률 85% 증가  
- 고객 만족도 상승
- 운영 업무 자동화

💬 "SMS 하나로 이렇게 달라질 줄 몰랐어요!"
```

**🌟 설정 완료하면 정말 전문적인 상담센터로 업그레이드됩니다!** 